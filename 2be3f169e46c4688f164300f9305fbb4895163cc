{
  "comments": [
    {
      "key": {
        "uuid": "63305859_444742ff",
        "filename": "/COMMIT_MSG",
        "patchSetId": 14
      },
      "lineNbr": 9,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-06-02T22:38:48Z",
      "side": 1,
      "message": "impossible",
      "range": {
        "startLine": 9,
        "startChar": 52,
        "endLine": 9,
        "endChar": 62
      },
      "revId": "2be3f169e46c4688f164300f9305fbb4895163cc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "107a4acb_74a6fe73",
        "filename": "/COMMIT_MSG",
        "patchSetId": 14
      },
      "lineNbr": 9,
      "author": {
        "id": 6339
      },
      "writtenOn": "2020-06-03T00:23:45Z",
      "side": 1,
      "message": "OK.",
      "parentUuid": "63305859_444742ff",
      "range": {
        "startLine": 9,
        "startChar": 52,
        "endLine": 9,
        "endChar": 62
      },
      "revId": "2be3f169e46c4688f164300f9305fbb4895163cc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9c91d961_f076c10a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 14
      },
      "lineNbr": 10,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-06-02T22:38:48Z",
      "side": 1,
      "message": "immutable",
      "range": {
        "startLine": 10,
        "startChar": 31,
        "endLine": 10,
        "endChar": 40
      },
      "revId": "2be3f169e46c4688f164300f9305fbb4895163cc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e9096a23_4734294a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 14
      },
      "lineNbr": 10,
      "author": {
        "id": 6339
      },
      "writtenOn": "2020-06-03T00:23:45Z",
      "side": 1,
      "message": "OK.",
      "parentUuid": "9c91d961_f076c10a",
      "range": {
        "startLine": 10,
        "startChar": 31,
        "endLine": 10,
        "endChar": 40
      },
      "revId": "2be3f169e46c4688f164300f9305fbb4895163cc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "55a99808_7b944998",
        "filename": "kubernetes/common/mariadb-galera/resources/create-deployment.yml",
        "patchSetId": 14
      },
      "lineNbr": 37,
      "author": {
        "id": 2319
      },
      "writtenOn": "2020-06-03T14:39:02Z",
      "side": 1,
      "message": "reference the secret created and no if here",
      "revId": "2be3f169e46c4688f164300f9305fbb4895163cc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dd37734d_678e85e6",
        "filename": "kubernetes/common/mariadb-galera/resources/create-deployment.yml",
        "patchSetId": 14
      },
      "lineNbr": 42,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-06-02T22:38:48Z",
      "side": 1,
      "message": "shouldn\u0027t we use here credentials from the mariadb-galera instance that is already running?",
      "range": {
        "startLine": 37,
        "startChar": 13,
        "endLine": 42,
        "endChar": 24
      },
      "revId": "2be3f169e46c4688f164300f9305fbb4895163cc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f76d3615_8af1d6e4",
        "filename": "kubernetes/common/mariadb-galera/resources/create-deployment.yml",
        "patchSetId": 14
      },
      "lineNbr": 42,
      "author": {
        "id": 6339
      },
      "writtenOn": "2020-06-03T00:23:45Z",
      "side": 1,
      "message": "We use the same credential of the already-running mariadb instance. It is just this credential is stored in a different secret. The reason is that when the old release is deleted, the secret of old release is also deleted. Therefore, I create a new secret storing the old value of credential here.",
      "parentUuid": "dd37734d_678e85e6",
      "range": {
        "startLine": 37,
        "startChar": 13,
        "endLine": 42,
        "endChar": 24
      },
      "revId": "2be3f169e46c4688f164300f9305fbb4895163cc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "86ee5b1d_74b029c2",
        "filename": "kubernetes/common/mariadb-galera/resources/create-deployment.yml",
        "patchSetId": 14
      },
      "lineNbr": 47,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-06-02T22:38:48Z",
      "side": 1,
      "message": "same here.",
      "revId": "2be3f169e46c4688f164300f9305fbb4895163cc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f4989379_21405041",
        "filename": "kubernetes/common/mariadb-galera/resources/post-upgrade-script.sh",
        "patchSetId": 14
      },
      "lineNbr": 16,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-06-02T22:38:48Z",
      "side": 1,
      "message": "@Sylvain\nHmm I think we need clarify what upgrade means for us\n\nWe have two ways to go:\n1) You don\u0027t modify any of incomming passwords and try figure them out from a running instance\n2) You depend on a user to provide all required passwords that he wants to have to helm charts on his own\n\nWhat are your thoughts?",
      "revId": "2be3f169e46c4688f164300f9305fbb4895163cc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "22ec5b33_4239fe25",
        "filename": "kubernetes/common/mariadb-galera/resources/post-upgrade-script.sh",
        "patchSetId": 14
      },
      "lineNbr": 16,
      "author": {
        "id": 6339
      },
      "writtenOn": "2020-06-03T00:23:45Z",
      "side": 1,
      "message": "I remembered discussing the first point with you from the beginning. We keep the new incoming password. But then you said the temporary deployment will have the old password, while the new statefulset of new release will have the new password and they create a discrepancy. Do we need to discuss about this more?",
      "parentUuid": "f4989379_21405041",
      "revId": "2be3f169e46c4688f164300f9305fbb4895163cc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "33f202cd_9c515271",
        "filename": "kubernetes/common/mariadb-galera/resources/post-upgrade-script.sh",
        "patchSetId": 14
      },
      "lineNbr": 18,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-06-02T22:38:48Z",
      "side": 1,
      "message": "Please reference a secret by name not by index we have a template for it.",
      "revId": "2be3f169e46c4688f164300f9305fbb4895163cc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4fd42cc1_1df078d1",
        "filename": "kubernetes/common/mariadb-galera/resources/post-upgrade-script.sh",
        "patchSetId": 14
      },
      "lineNbr": 18,
      "author": {
        "id": 6339
      },
      "writtenOn": "2020-06-03T00:23:45Z",
      "side": 1,
      "message": "can you tell me that template?",
      "parentUuid": "33f202cd_9c515271",
      "revId": "2be3f169e46c4688f164300f9305fbb4895163cc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e97eea7_d0b37ce4",
        "filename": "kubernetes/common/mariadb-galera/resources/post-upgrade-script.sh",
        "patchSetId": 14
      },
      "lineNbr": 18,
      "author": {
        "id": 2319
      },
      "writtenOn": "2020-06-03T14:19:07Z",
      "side": 1,
      "message": "common.secret.getSecretNameFast with secret uid",
      "parentUuid": "4fd42cc1_1df078d1",
      "revId": "2be3f169e46c4688f164300f9305fbb4895163cc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c8f6864_443615b1",
        "filename": "kubernetes/common/mariadb-galera/resources/post-upgrade-script.sh",
        "patchSetId": 14
      },
      "lineNbr": 23,
      "author": {
        "id": 6339
      },
      "writtenOn": "2020-05-28T03:57:09Z",
      "side": 1,
      "message": "I have used patch instead of sed",
      "revId": "2be3f169e46c4688f164300f9305fbb4895163cc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3905ab1d_4e020314",
        "filename": "kubernetes/common/mariadb-galera/resources/post-upgrade-script.sh",
        "patchSetId": 14
      },
      "lineNbr": 23,
      "author": {
        "id": 2319
      },
      "writtenOn": "2020-06-03T14:19:07Z",
      "side": 1,
      "message": "good for me",
      "parentUuid": "7c8f6864_443615b1",
      "revId": "2be3f169e46c4688f164300f9305fbb4895163cc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "642fe44d_17ec47de",
        "filename": "kubernetes/common/mariadb-galera/resources/upgrade-scripts.sh",
        "patchSetId": 14
      },
      "lineNbr": 15,
      "author": {
        "id": 2319
      },
      "writtenOn": "2020-06-03T14:39:02Z",
      "side": 1,
      "message": "remove if and create\nkubectl create secret generic \u0027{{ include \"common.fullname\" . }}\u0027-temp-upgrade-root\u0027 --from-literal\u003dpassword\u003d$MYSQL_ROOT_PASSWORD",
      "revId": "2be3f169e46c4688f164300f9305fbb4895163cc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4502d41_282cfdbf",
        "filename": "kubernetes/common/mariadb-galera/resources/upgrade-scripts.sh",
        "patchSetId": 14
      },
      "lineNbr": 26,
      "author": {
        "id": 2319
      },
      "writtenOn": "2020-06-03T14:39:02Z",
      "side": 1,
      "message": "remove if and create\nkubectl create secret generic \u0027{{ include \"common.fullname\" . }}\u0027-temp-upgrade-user\u0027 --from-literal\u003dlogin\u003d$MYSQL_USER --from-literal\u003dpassword\u003d$MYSQL_PASSWORD",
      "revId": "2be3f169e46c4688f164300f9305fbb4895163cc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "584145f6_dc62df47",
        "filename": "kubernetes/common/mariadb-galera/resources/upgrade-scripts.sh",
        "patchSetId": 14
      },
      "lineNbr": 105,
      "author": {
        "id": 6339
      },
      "writtenOn": "2020-05-28T03:57:09Z",
      "side": 1,
      "message": "I have used jsonpath instead of grep.",
      "revId": "2be3f169e46c4688f164300f9305fbb4895163cc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "22572411_abfeeab8",
        "filename": "kubernetes/common/mariadb-galera/resources/upgrade-scripts.sh",
        "patchSetId": 14
      },
      "lineNbr": 119,
      "author": {
        "id": 2319
      },
      "writtenOn": "2020-06-03T14:39:02Z",
      "side": 1,
      "message": "delete the right ones and remove sleep 10",
      "revId": "2be3f169e46c4688f164300f9305fbb4895163cc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    }
  ]
}