{
  "comments": [
    {
      "key": {
        "uuid": "f0cd323f_db21abfe",
        "filename": "kubernetes/policy/charts/policy-pap/resources/config/config.json",
        "patchSetId": 2
      },
      "lineNbr": 39,
      "author": {
        "id": 477
      },
      "writtenOn": "2019-04-12T18:39:50Z",
      "side": 1,
      "message": "This should be \njdbc:mariadb://{{.Values.global.mariadb.nameOverride}}:3306/policyadmin\"",
      "revId": "d90a93c39c5621d0389e62510da3d813d3654123",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ff661ee_6e3196ef",
        "filename": "kubernetes/policy/charts/policy-pap/templates/deployment.yaml",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 477
      },
      "writtenOn": "2019-04-12T18:39:50Z",
      "side": 1,
      "message": "Add the section below before \"containers:\" to guarantee that the database is fully initialized before this container comes up.   \n\nSee \"oom/kubernetes/policy/templates/deployment.yaml\" for a reference.   Just copy/paste the section.\n\n      initContainers:\n      - command:\n        - /root/ready.py\n        args:\n        - --container-name\n        - {{ .Values.global.mariadb.nameOverride }}\n        env:\n        - name: NAMESPACE\n          valueFrom:\n            fieldRef:\n              apiVersion: v1\n              fieldPath: metadata.namespace\n        image: \"{{ .Values.global.readinessRepository }}/{{ .Values.global.readinessImage }}\"\n        imagePullPolicy: {{ .Values.global.pullPolicy | default .Values.pullPolicy }}\n        name: {{ include \"common.name\" . }}-readiness",
      "revId": "d90a93c39c5621d0389e62510da3d813d3654123",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}