{
  "comments": [
    {
      "key": {
        "uuid": "5a93c517_68e60117",
        "filename": "kubernetes/consul/resources/config/consul-agent-config/log-elastic-search.json",
        "patchSetId": 1
      },
      "lineNbr": 8,
      "author": {
        "id": 497
      },
      "writtenOn": "2018-02-27T08:39:17Z",
      "side": 1,
      "message": "This will only work if namespace is \"onap\". Need to use nsPrefix value from values.yaml\nThis is everywhere...",
      "range": {
        "startLine": 8,
        "startChar": 38,
        "endLine": 8,
        "endChar": 43
      },
      "revId": "a0038689cae8afb132fc993efedf9a0388a414e3",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a93c517_05740834",
        "filename": "kubernetes/consul/templates/consul-agent-configmap.yaml",
        "patchSetId": 1
      },
      "lineNbr": 24,
      "author": {
        "id": 2535
      },
      "writtenOn": "2018-02-27T04:38:11Z",
      "side": 1,
      "message": "can we use secret instead of configMap ?",
      "range": {
        "startLine": 18,
        "startChar": 1,
        "endLine": 24,
        "endChar": 92
      },
      "revId": "a0038689cae8afb132fc993efedf9a0388a414e3",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a93c517_b38a3e19",
        "filename": "kubernetes/consul/templates/consul-agent-configmap.yaml",
        "patchSetId": 1
      },
      "lineNbr": 24,
      "author": {
        "id": 2541
      },
      "writtenOn": "2018-02-27T14:21:15Z",
      "side": 1,
      "message": "I didn\u0027t see these certs files being referenced in consul agent deployment file. It\u0027s possible for other use, like communication between client and server. It\u0027s safe to leave it as is",
      "parentUuid": "5a93c517_05740834",
      "range": {
        "startLine": 18,
        "startChar": 1,
        "endLine": 24,
        "endChar": 92
      },
      "revId": "a0038689cae8afb132fc993efedf9a0388a414e3",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a93c517_6594ec42",
        "filename": "kubernetes/consul/templates/consul-agent-deployment.yaml",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 2535
      },
      "writtenOn": "2018-02-27T04:38:11Z",
      "side": 1,
      "message": "remove additional spaces.",
      "range": {
        "startLine": 21,
        "startChar": 49,
        "endLine": 21,
        "endChar": 51
      },
      "revId": "a0038689cae8afb132fc993efedf9a0388a414e3",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a93c517_858018f8",
        "filename": "kubernetes/consul/templates/consul-agent-deployment.yaml",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 2535
      },
      "writtenOn": "2018-02-27T04:38:11Z",
      "side": 1,
      "message": "why using consul agent registry image ?",
      "range": {
        "startLine": 19,
        "startChar": 5,
        "endLine": 21,
        "endChar": 51
      },
      "revId": "a0038689cae8afb132fc993efedf9a0388a414e3",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a93c517_d3da6a4b",
        "filename": "kubernetes/consul/templates/consul-agent-deployment.yaml",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 2541
      },
      "writtenOn": "2018-02-27T14:21:15Z",
      "side": 1,
      "message": "The point here is : Once you mount a volume, it overrides the mountPath. \n\n/consul/config/bin/ was the location for kubectl. \nin new consul agent image, if I put kubectl under /consul/config/bin directly, it will be override by later volumeMount of /consul/config; \nSo in new consul agent image, I put kubectl under /consul/bin, and move it around in initContainer.",
      "parentUuid": "5a93c517_858018f8",
      "range": {
        "startLine": 19,
        "startChar": 5,
        "endLine": 21,
        "endChar": 51
      },
      "revId": "a0038689cae8afb132fc993efedf9a0388a414e3",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a93c517_457e901a",
        "filename": "kubernetes/consul/templates/consul-agent-deployment.yaml",
        "patchSetId": 1
      },
      "lineNbr": 25,
      "author": {
        "id": 2535
      },
      "writtenOn": "2018-02-27T04:38:11Z",
      "side": 1,
      "message": "creation of directory can also be part of docker image itself. \n\nso i dont think we need to use init container here.",
      "range": {
        "startLine": 25,
        "startChar": 11,
        "endLine": 25,
        "endChar": 69
      },
      "revId": "a0038689cae8afb132fc993efedf9a0388a414e3",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a93c517_93e062fb",
        "filename": "kubernetes/consul/templates/consul-agent-deployment.yaml",
        "patchSetId": 1
      },
      "lineNbr": 25,
      "author": {
        "id": 2541
      },
      "writtenOn": "2018-02-27T14:21:15Z",
      "side": 1,
      "message": "That\u0027s right, creation of directory can be part of docker image.  but: \nthe created directory could be override by volumeMount; \nthe files inside this directory are not available at the time of image creation.",
      "parentUuid": "5a93c517_457e901a",
      "range": {
        "startLine": 25,
        "startChar": 11,
        "endLine": 25,
        "endChar": 69
      },
      "revId": "a0038689cae8afb132fc993efedf9a0388a414e3",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a93c517_e58f9c28",
        "filename": "kubernetes/consul/templates/consul-agent-deployment.yaml",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 2535
      },
      "writtenOn": "2018-02-27T04:38:11Z",
      "side": 1,
      "message": "why we need to create these volumeMounts ?",
      "range": {
        "startLine": 26,
        "startChar": 6,
        "endLine": 34,
        "endChar": 35
      },
      "revId": "a0038689cae8afb132fc993efedf9a0388a414e3",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a93c517_f3ee86ec",
        "filename": "kubernetes/consul/templates/consul-agent-deployment.yaml",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 2541
      },
      "writtenOn": "2018-02-27T14:21:15Z",
      "side": 1,
      "message": "This is a staging area, to overcome the issue of \"configmap does not support sub-directories\". If I mount to /consul/config directly, sub-directories will be overriden and not shown up",
      "parentUuid": "5a93c517_e58f9c28",
      "range": {
        "startLine": 26,
        "startChar": 6,
        "endLine": 34,
        "endChar": 35
      },
      "revId": "a0038689cae8afb132fc993efedf9a0388a414e3",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a93c517_059de865",
        "filename": "kubernetes/consul/templates/consul-agent-deployment.yaml",
        "patchSetId": 1
      },
      "lineNbr": 42,
      "author": {
        "id": 2535
      },
      "writtenOn": "2018-02-27T04:38:11Z",
      "side": 1,
      "message": "remove additional spaces.",
      "range": {
        "startLine": 42,
        "startChar": 27,
        "endLine": 42,
        "endChar": 28
      },
      "revId": "a0038689cae8afb132fc993efedf9a0388a414e3",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a93c517_657b8c28",
        "filename": "kubernetes/consul/templates/consul-agent-deployment.yaml",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 2535
      },
      "writtenOn": "2018-02-27T04:38:11Z",
      "side": 1,
      "message": "can we create secret for certificate ?",
      "range": {
        "startLine": 49,
        "startChar": 5,
        "endLine": 52,
        "endChar": 39
      },
      "revId": "a0038689cae8afb132fc993efedf9a0388a414e3",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a93c517_c5a380b0",
        "filename": "kubernetes/consul/values.yaml",
        "patchSetId": 1
      },
      "lineNbr": 4,
      "author": {
        "id": 2535
      },
      "writtenOn": "2018-02-27T04:38:11Z",
      "side": 1,
      "message": "can you please check that in case of consul server version is upgraded then customized agent will be works fine.\n\nas we are using consul latest image as a server. so i think we have to decide which image version should be used for server which have to compatible with agent.",
      "range": {
        "startLine": 3,
        "startChar": 0,
        "endLine": 4,
        "endChar": 42
      },
      "revId": "a0038689cae8afb132fc993efedf9a0388a414e3",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a93c517_93b382e8",
        "filename": "kubernetes/consul/values.yaml",
        "patchSetId": 1
      },
      "lineNbr": 4,
      "author": {
        "id": 2541
      },
      "writtenOn": "2018-02-27T14:39:51Z",
      "side": 1,
      "message": "Okay, It would be better to put current latest version number there, I will do so.",
      "parentUuid": "5a93c517_c5a380b0",
      "range": {
        "startLine": 3,
        "startChar": 0,
        "endLine": 4,
        "endChar": 42
      },
      "revId": "a0038689cae8afb132fc993efedf9a0388a414e3",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}