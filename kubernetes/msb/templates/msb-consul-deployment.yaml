apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: msb-consul 
spec:
  replicas: 1
  selector:
    matchLabels:
      app: msb-consul 
  template:
    metadata:
      labels:
        app: msb-consul 
      name: msb-consul
    spec:
      hostname: msb-consul
      containers:
      - args:
        image: consul 
        name: "msb-consul"
        ports:
        - containerPort: 8500
          name: msb-consul
        readinessProbe:
          tcpSocket:
            port: 8500
          initialDelaySeconds: 5
          periodSeconds: 10
        imagePullPolicy: "{{ .Values.pullPolicy}}"