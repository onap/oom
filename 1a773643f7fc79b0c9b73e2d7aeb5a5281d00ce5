{
  "comments": [
    {
      "key": {
        "uuid": "845976e5_768b5522",
        "filename": "kubernetes/a1policymanagementservice/Chart.yaml",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 2319
      },
      "writtenOn": "2020-09-01T08:21:52Z",
      "side": 1,
      "message": "remove service here please",
      "revId": "1a773643f7fc79b0c9b73e2d7aeb5a5281d00ce5",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "88f64a5b_41a5d9dc",
        "filename": "kubernetes/a1policymanagementservice/Chart.yaml",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 3813
      },
      "writtenOn": "2020-09-01T14:29:54Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "845976e5_768b5522",
      "revId": "1a773643f7fc79b0c9b73e2d7aeb5a5281d00ce5",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8df2ba17_4111aaf8",
        "filename": "kubernetes/a1policymanagementservice/resources/config/application_configuration.json",
        "patchSetId": 2
      },
      "lineNbr": 8,
      "author": {
        "id": 2319
      },
      "writtenOn": "2020-09-01T08:21:52Z",
      "side": 1,
      "message": "can\u0027t you retrieve password from a secret?",
      "revId": "1a773643f7fc79b0c9b73e2d7aeb5a5281d00ce5",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "80c52f15_c03114fc",
        "filename": "kubernetes/a1policymanagementservice/resources/config/application_configuration.json",
        "patchSetId": 2
      },
      "lineNbr": 8,
      "author": {
        "id": 3813
      },
      "writtenOn": "2020-09-01T14:29:54Z",
      "side": 1,
      "message": "I have added the secrets but don\u0027t know how to add it in this file. Can you help?",
      "parentUuid": "8df2ba17_4111aaf8",
      "revId": "1a773643f7fc79b0c9b73e2d7aeb5a5281d00ce5",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f5aa8c52_0c86e7ff",
        "filename": "kubernetes/a1policymanagementservice/resources/config/application_configuration.json",
        "patchSetId": 2
      },
      "lineNbr": 8,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-09-03T09:27:16Z",
      "side": 1,
      "message": "Sure. You just need to use an init container with envsubstitute see for example kubernetes/policy/components/policy-distribution/templates/deployment.yaml\n\ninitContainers:\n      - command:\n        - sh\n        args:\n        - -c\n        - \"cd /config-input \u0026\u0026 for PFILE in `ls -1`; do envsubst \u003c${PFILE} \u003e/config/${PFILE}; done\"\n        env:\n        - name: RESTSERVER_USER\n          {{- include \"common.secret.envFromSecretFast\" (dict \"global\" . \"uid\" \"restserver-creds\" \"key\" \"login\") | indent 10 }}\n        - name: RESTSERVER_PASSWORD\n          {{- include \"common.secret.envFromSecretFast\" (dict \"global\" . \"uid\" \"restserver-creds\" \"key\" \"password\") | indent 10 }}\n        - name: API_USER\n          {{- include \"common.secret.envFromSecretFast\" (dict \"global\" . \"uid\" \"apiparameters-creds\" \"key\" \"login\") | indent 10 }}\n        - name: API_PASSWORD\n          {{- include \"common.secret.envFromSecretFast\" (dict \"global\" . \"uid\" \"apiparameters-creds\" \"key\" \"password\") | indent 10 }}\n        - name: PAP_USER\n          {{- include \"common.secret.envFromSecretFast\" (dict \"global\" . \"uid\" \"papparameters-creds\" \"key\" \"login\") | indent 10 }}\n        - name: PAP_PASSWORD\n          {{- include \"common.secret.envFromSecretFast\" (dict \"global\" . \"uid\" \"papparameters-creds\" \"key\" \"password\") | indent 10 }}\n        - name: SDCBE_USER\n          {{- include \"common.secret.envFromSecretFast\" (dict \"global\" . \"uid\" \"sdcbe-creds\" \"key\" \"login\") | indent 10 }}\n        - name: SDCBE_PASSWORD\n          {{- include \"common.secret.envFromSecretFast\" (dict \"global\" . \"uid\" \"sdcbe-creds\" \"key\" \"password\") | indent 10 }}\n        volumeMounts:\n        - mountPath: /config-input\n          name: distributionconfig-input\n        - mountPath: /config\n          name: distributionconfig\n        image: \"{{ .Values.global.envsubstImage }}\"\n        imagePullPolicy: {{ .Values.global.pullPolicy | default .Values.pullPolicy }}\n        name: {{ include \"common.name\" . }}-update-config",
      "parentUuid": "80c52f15_c03114fc",
      "revId": "1a773643f7fc79b0c9b73e2d7aeb5a5281d00ce5",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e1fa8c6_49ae5793",
        "filename": "kubernetes/a1policymanagementservice/resources/config/application_configuration.json",
        "patchSetId": 2
      },
      "lineNbr": 8,
      "author": {
        "id": 3813
      },
      "writtenOn": "2020-09-03T14:11:50Z",
      "side": 1,
      "message": "Thank you and it worked üòä üëç",
      "parentUuid": "f5aa8c52_0c86e7ff",
      "revId": "1a773643f7fc79b0c9b73e2d7aeb5a5281d00ce5",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6ab7c554_306fbbdb",
        "filename": "kubernetes/a1policymanagementservice/resources/config/application_configuration.json",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 2319
      },
      "writtenOn": "2020-09-01T08:21:52Z",
      "side": 1,
      "message": "where does this URL come from?",
      "revId": "1a773643f7fc79b0c9b73e2d7aeb5a5281d00ce5",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6fed7e0_c6ef97a9",
        "filename": "kubernetes/a1policymanagementservice/resources/config/application_configuration.json",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 3813
      },
      "writtenOn": "2020-09-01T14:29:54Z",
      "side": 1,
      "message": "this URL can be modified based on the environment. I have used example url from A1 simulator that we have developed in OSC.\nhttps://gerrit.o-ran-sc.org/r/gitweb?p\u003dit/dep.git;a\u003dtree;f\u003dnonrtric/helm/a1simulator;h\u003d606a452d351e95c6bcb9dbbf549118f79b0e0a7e;hb\u003drefs/heads/master",
      "parentUuid": "6ab7c554_306fbbdb",
      "revId": "1a773643f7fc79b0c9b73e2d7aeb5a5281d00ce5",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d9ed01c8_dca6934b",
        "filename": "kubernetes/a1policymanagementservice/resources/config/application_configuration.json",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-09-04T08:53:58Z",
      "side": 1,
      "message": "yeah but it implicitly assumes that this simulator is deployed in a1-sim namespace right?\n\nThis is a terrible practice you want to be independent from the namesapce and make sure that all the config values that depends on it can be updated automatically or at least easy",
      "parentUuid": "b6fed7e0_c6ef97a9",
      "revId": "1a773643f7fc79b0c9b73e2d7aeb5a5281d00ce5",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "22fcd023_bc738b45",
        "filename": "kubernetes/a1policymanagementservice/resources/config/application_configuration.json",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 3813
      },
      "writtenOn": "2020-09-04T10:48:34Z",
      "side": 1,
      "message": "a1-sim is not a namespace.\nThe A1 simulator will be deployed as a statefulset. to access the specific ric, \u003cstatefulsetname-instance.service\u003e.\n\nIt is a delivered as part of ORAN/OSC bronze (Not a ONAP delivery) release and it is mentioned here just as an example. Now I have removed this in patchset 6 to avoid confusion. üòä",
      "parentUuid": "d9ed01c8_dca6934b",
      "revId": "1a773643f7fc79b0c9b73e2d7aeb5a5281d00ce5",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "71d3469e_6638f073",
        "filename": "kubernetes/a1policymanagementservice/templates/configmap.yaml",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 2319
      },
      "writtenOn": "2020-09-01T08:21:52Z",
      "side": 1,
      "message": "use metadata template please (in common/common/templates)\n\n{{- include \"common.resourceMetadata\" . | nindent 2 }}",
      "revId": "1a773643f7fc79b0c9b73e2d7aeb5a5281d00ce5",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0eaff832_4f1eca0b",
        "filename": "kubernetes/a1policymanagementservice/templates/configmap.yaml",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 3813
      },
      "writtenOn": "2020-09-01T14:29:54Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "71d3469e_6638f073",
      "revId": "1a773643f7fc79b0c9b73e2d7aeb5a5281d00ce5",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "82224748_5ca649ef",
        "filename": "kubernetes/a1policymanagementservice/values.yaml",
        "patchSetId": 2
      },
      "lineNbr": 30,
      "author": {
        "id": 2319
      },
      "writtenOn": "2020-09-01T08:21:52Z",
      "side": 1,
      "message": "remover service here as it\u0027s a service (and the name is very long...)",
      "revId": "1a773643f7fc79b0c9b73e2d7aeb5a5281d00ce5",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "57ed8a34_7267760d",
        "filename": "kubernetes/a1policymanagementservice/values.yaml",
        "patchSetId": 2
      },
      "lineNbr": 30,
      "author": {
        "id": 3813
      },
      "writtenOn": "2020-09-01T14:29:54Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "82224748_5ca649ef",
      "revId": "1a773643f7fc79b0c9b73e2d7aeb5a5281d00ce5",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}