{
  "comments": [
    {
      "key": {
        "uuid": "1008b648_442380fe",
        "filename": "kubernetes/common/mariadb-galera/resources/post-upgrade-script.sh",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 2319
      },
      "writtenOn": "2020-06-29T06:41:53Z",
      "side": 1,
      "message": "do we need to delete it \"by hand\" as next line should kill it?",
      "revId": "f757c75a134946015d422e35fc2a0a17bfad9474",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b360833d_e24fe961",
        "filename": "kubernetes/common/mariadb-galera/resources/post-upgrade-script.sh",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 6601
      },
      "writtenOn": "2020-06-29T12:23:41Z",
      "side": 1,
      "message": "probably not.\nIt just had similar logic in there but to delete pod {{ include \"common.fullname\" . }}-0 not sure why it was there though.",
      "parentUuid": "1008b648_442380fe",
      "revId": "f757c75a134946015d422e35fc2a0a17bfad9474",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1c3bc074_c1fc49b2",
        "filename": "kubernetes/common/mariadb-galera/resources/post-upgrade-script.sh",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 6339
      },
      "writtenOn": "2020-06-30T03:24:07Z",
      "side": 1,
      "message": "I want to delete the pod {{ include \"common.fullname\" . }}-0 for the reason to restart this pod so that the env variable of password is updated after the kubectl patch on line 23 and 26.",
      "parentUuid": "b360833d_e24fe961",
      "revId": "f757c75a134946015d422e35fc2a0a17bfad9474",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2044d120_719f66cb",
        "filename": "kubernetes/common/mariadb-galera/resources/post-upgrade-script.sh",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 6601
      },
      "writtenOn": "2020-06-30T13:02:52Z",
      "side": 1,
      "message": "then, we probably can remove that patching or it should be refactored.\n1. Do patching only if secret is changed.\n2. And if password is changed, reboot each pod of cluster one by one not only pod with index -0\n\nPersonally I would just remove that password changing/patching logic, because anyway password is not changed at the end (even if new secret is pushed by chart) and gets patched by old password. And mostly I don\u0027t like an idea pushing new secrets during upgrade and changing of passwords over charts during upgrade.",
      "parentUuid": "1c3bc074_c1fc49b2",
      "revId": "f757c75a134946015d422e35fc2a0a17bfad9474",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    }
  ]
}