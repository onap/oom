{
  "comments": [
    {
      "key": {
        "uuid": "ee233632_17cf6219",
        "filename": "kubernetes/modeling/charts/modeling-etsicatalog/templates/deployment.yaml",
        "patchSetId": 5
      },
      "lineNbr": 40,
      "author": {
        "id": 2319
      },
      "writtenOn": "2020-08-18T06:59:42Z",
      "side": 1,
      "message": "please use readinessCheck components\nin values.yaml:\nglobal:\n  msbEnabled: true\nreadinessCheck:\t\n  sharedDatabase:\n      name: shared-database\n      containers:\n        - \u0027{{ include \"common.release\" . }}-{{ include \"common.name\" . }}-config-job\u0027\n  localDatabase:\n      name: local-database\n      containers:\n        - \u0027{{ include \"common.mariadbService\" .}}\u0027\n  msb:\n    name: msb\n    containers:\n        - msb-iag\n\nin requirements.yaml:\n  - name: readinessCheck\n    version: ~6.x-0\n    repository: \u0027@local\u0027\n\nhere:\n      initContainers: \n      {{- if global.mariadbGalera.localCluster }}\n      {{ include \"common.readinessCheck.waitFor\" (dict \"dot\" . \"wait_for\" .Values.readinessCheck.wait_for.localDatabase ) | indent 6 | trim }}\n      {{- else }}\n      {{ include \"common.readinessCheck.waitFor\" (dict \"dot\" . \"wait_for\" .Values.readinessCheck.wait_for.sharedDatabase ) | indent 6 | trim }}\n      {{- end }}\n      {{- if .Values.global.msbEnabled }}\n      {{ include \"common.readinessCheck.waitFor\" (dict \"dot\" . \"wait_for\" .Values.readinessCheck.wait_for.msb ) | indent 6 | trim }}\n      {{- end }}",
      "revId": "7c34d128544424dfbcb768324c0367bceff8bda1",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    }
  ]
}