# Copyright Â© 2018 AT&T USA
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#       http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#################################################################
# Global configuration defaults.
#################################################################
global:
  nodePortPrefix: 302
  nodePortPrefixExt: 304
  repository: nexus3.onap.org:10001
  readinessRepository: oomk8s
  readinessImage: readiness-check:2.0.2
  mariadbGalera:
    nameOverride: mariadb-galera
    serviceName: mariadb-galera
    servicePort: "3306"
    mariadbRootPassword: secretpassword
    #This flag allows SO to instantiate its own mariadb-galera cluster,
    #serviceName and nameOverride should be so-mariadb-galera if this flag is enabled
    localCluster: false
  persistence:
    mountPath: /dockerdata-nfs
  #This configuration will run the migration. The configurations are for backing up the data
  #from DB and then restoring it to the present versions preferred DB.
  migration:
    enabled: false
    dbHost: mariadb-galera
    dbPort: 3306
    dbUser: root
    dbPassword: secretpassword
  aafCredentials: Basic c29Ac28ub25hcC5vcmc6ZGVtbzEyMzQ1NiE=
  app:
    siteName: onapheat
    auth: 3EDC974C5CD7FE54C47C7490AF4D3B474CDD7D0FFA35A7ACDE3E209631E45F428976EAC0858874F17390A13149E63C90281DD8D20456
    defaultCloudOwner: att-aic
    cadi:
      cadiLoglevel: DEBUG
      cadiKeyFile: /app/so.keyfile
      cadiTrustStore: /app/org.onap.so.trust.jks
      cadiTruststorePassword: enc:-b4_kPYS-Hv6YiiX4wifdjpkn_po9ruzbseZ_ctPmsZyTYSvIGe3_I0mngLBOt8t
      cadiLatitude: 38.432899
      cadiLongitude: -90.43248
      aafEnv: IST
      aafApiVersion: 2.1
      aafRootNs: org.onap.aaf
      aafLocateUrl: https://aaf-locate.onap:8095
      aafUrl: https://aaf-locate.onap:8095/locate/org.osaaf.aaf.service:2.1
      aafId: so@so.onap.org
      aafPassword: enc:mydoiDB4B1chPDakKwZ10fB2HbfLaVmi9xtbWAm7pIO
      apiEnforcement: org.onap.so.non-prod.apihPerm
      noAuthn: /manage/health
    msoKey: 07a7159d3bf51a0e53be7a8f89699be7
    hostAliases:
    - hostnames:
      - aaf-onap-test.osaaf.org
      - aaf-locate.onap
      - aaf-cm
      - aaf-service
    ip: 10.12.5.145

#################################################################
# Application configuration defaults.
#################################################################
repository: nexus3.onap.org:10001
image: onap/so/api-handler-infra:1.5.2
pullPolicy: Always

replicaCount: 1
minReadySeconds: 10
containerPort: 8080
logPath: ./logs/apih/
app: api-handler-infra
service:
    type: NodePort
    nodePort: 77
    internalPort: 8080
    externalPort: 8080
    portName: so-apih-port
updateStrategy:
    type: RollingUpdate
    maxUnavailable: 1
    maxSurge: 1
# Resource Limit flavor -By Default using small
flavor: small
# Segregation for Different environment (Small and Large)
livenessProbe:
    path: /manage/health
    scheme: HTTP
    initialDelaySeconds: 600
    periodSeconds: 60
    timeoutSeconds: 10
    successThreshold: 1
    failureThreshold: 3
resources:
  small:
    limits:
      cpu: 2000m
      memory: 4Gi
    requests:
      memory: 1Gi
      cpu: 500m
    medium:
      limits:
        memory: 4Gi
        cpu: 2000m
      requests:
        memory: 1Gi
        cpu: 500m
  large:
    limits:
      memory: 8Gi
      cpu: 4000m
    requests:
      cpu: 1000m
      memory: 2Gi
  unlimited: {}

nodeSelector: {}
affinity: {}

auth:
  rest:
    aaf: Basic c29Ac28ub25hcC5vcmc6ZGVtbzEyMzQ1NiE=
    aafEncrypted: 3EDC974C5CD7FE54C47C7490AF4D3B474CDD7D0FFA35A7ACDE3E209631E45F428976EAC0858874F17390A13149E63C90281DD8D20456
mso:
  sdc:
    activate:
      instanceid: test
      userid: cs0008
  aai:
    auth: 26AFB797A6A57960D5D718491925C50F77CDC22AC394B3DBA09950D8FD1C0764
  so:
    operational-environment:
      dmaap:
        auth: 12C2C0603B3CCC8F32521FB30FA2483CD9E3083D127DF19D36DC277DB33DB84B34328C7DBE00F836290DFC062E
        host: http://c1.vm1.mso.simpledemo.onap.org:28090
      publisher:
        topic: com.att.ecomp.mso.operationalEnvironmentEvent
#Used only if localCluster is enabled. Instantiates SO's own cassandra cluster
#helm deploy demo local/onap --namespace onap --verbose --set so.enabled=true \
#                                                       --set so.global.mariadbGalera.localCluster=true \
#                                                       --set so.global.mariadbGalera.nameOverride=so-mariadb-galera \
#                                                       --set so.global.mariadbGalera.serviceName=so-mariadb-galera
mariadb-galera:
  nameOverride: so-mariadb-galera
  replicaCount: 1
  service:
    name: so-mariadb-galera
  persistence:
    mountSubPath: so/mariadb-galera/data
    enabled: true

so-sdc-controller:
  auth:
    rest:
      aaf: Basic c29Ac28ub25hcC5vcmc6ZGVtbzEyMzQ1NiE=
  aai:
    auth: 2A11B07DB6214A839394AA1EC5844695F5114FC407FF5422625FB00175A3DCB8A1FF745F22867EFA72D5369D599BBD88DA8BED4233CF5586
  mso:
    asdc-connections:
      asdc-controller1:
        user: so@so.onap.org
        password: 8ED17DE83E97BFD2A8F6E580F4CEE2A60A134C9670DB02AB6C3BDD26AE0EB313F2EF321E803E84
        consumerGroup: SO-OpenSource-Env11
        consumerId: SO-OpenSource-Env11
        environmentName: AUTO
        pollingInterval: 60
        pollingTimeout: 60
        messageBusAddress: vm1.mr.simpledemo.onap.org,vm1.mr.simpledemo.onap.org
        activateServerTLSAuth: false
    asdc:
      config:
        key: 566B754875657232314F5548556D3665
so-bpmn-infra:
  aai:
    auth: 221187EFA3AD4E33600DE0488F287099934CE65C3D0697BCECC00BB58E784E07CD74A24581DC31DBC086FF63DF116378776E9BE3D1325885
  cds:
    endpoint: cds-blueprints-processor-grpc
    port: 9111
    auth: Basic Y2NzZGthcHBzOmNjc2RrYXBwcw==
    timeout: 600
  camunda:
    bpm:
      application:
        delete-upon-undeploy: false
        scan-for-process-definitions: true
        deploy-changed-only: true
        database:
          schema-update: true
        batchStartTime: "05:00"
        batchEndTime: "10:00"
      admin-user:
        id: admin
        password: admin
      history-level: full
      job-execution:
        max-pool-size: 30
        core-pool-size: 3
  dmaap:
    username: testuser
    password: alRyMzJ3NUNeakxl
    host: http://10.42.111.36:904
    publisher:
      topic: replaceme
  naming:
    endpoint: http://naming.demo.onap.com:8081/web/service/v1/genNetworkElementName
    auth: Basic bTA0NzY4QG5vbi1wcm9kLm1zby5lY29tcC5hdHQuY29tOkF0dG0wNDc2OExpZmUhQA==
  policy:
    auth: Basic dGVzdHBkcDphbHBoYTEyMw==
    default:
      disposition: Skip
    client:
      auth: Basic bTAzNzQzOnBvbGljeVIwY2sk
    endpoint: http://pdp.{{ include "common.namespace" . }}:8081/pdp/api/
    environment: TEST
  sdnc:
    auth: Basic YWRtaW46S3A4Yko0U1hzek0wV1hsaGFrM2VIbGNzZTJnQXc4NHZhb0dHbUp2VXkyVQ==
    host: http://sdnc.{{ include "common.namespace" . }}:8282
    path: /restconf/operations/GENERIC-RESOURCE-API
    si:
      svc:
        types: PORT-MIRROR,PPROBE
  appc:
    client:
      topic:
        read:
          name: APPC-LCM-WRITE
          timeout: 360000
        write: APPC-LCM-READ
        sdnc:
          read: SDNC-LCM-WRITE
          write: SDNC-LCM-READ
      response:
        timeout: 360000
      key: VIlbtVl6YLhNUrtU
      secret: 64AG2hF4pYeG2pq7CT6XwUOT
      service: ueb
      poolMembers: message-router.{{ include "common.namespace" . }}:3904,message-router.{{ include "common.namespace" . }}:3904
  sniro:
    conductor:
      enabled: true
      host: http://sniro-emulator:80
      uri: /v1/release-orders
      headers.auth: Basic dGVzdDp0ZXN0cHdk
    manager:
      timeout: PT30M
      host: http://sniro-emulator:80
      uri.v1: /sniro/api/v2/placement
      uri.v2: /sniro/api/placement/v2
      headers.auth: Basic dGVzdDp0ZXN0cHdk
      headers.patchVersion: 1
      headers.minorVersion: 1
      headers.latestVersion: 2
  auth:
    rest:
      aaf: Basic c29Ac28ub25hcC5vcmc6ZGVtbzEyMzQ1NiE=
      aafEncrypted: 3EDC974C5CD7FE54C47C7490AF4D3B474CDD7D0FFA35A7ACDE3E209631E45F428976EAC0858874F17390A13149E63C90281DD8D20456
  mso:
    rainyDay:
      retryDurationMultiplier: 2
      maxRetries: 5
    sdnc:
      password: 1D78CFC35382B6938A989066A7A7EAEF4FE933D2919BABA99EB4763737F39876C333EE5F
    sniro:
      auth: test:testpwd
      endpoint: http://replaceme:28090/optimizationInstance/V1/create
    oof:
      auth: test:testpwd
so-catalog-db-adapter:
  mso:
    spring:
      flyway:
        baselineVersion: 0
        locations: db/CI,db/migration
  cloud_config:
    identity_services:
      RAX_KEYSTONE:
        identity_url: "https://identity.api.rackspacecloud.com/v2.0"
        mso_id: "RACKSPACE_ACCOUNT_ID"
        mso_pass: "RACKSPACE_ACCOUNT_APIKEY"
        admin_tenant: "{{ .Values.config.openStackServiceTenantName }}"
        member_role: "admin"
        tenant_metadata: true
        identity_server_type: "KEYSTONE"
        identity_authentication_type: "RACKSPACE_APIKEY"
      DEFAULT_KEYSTONE:
        identity_url: "{{ .Values.config.openStackKeyStoneUrl }}"
        mso_id: "{{ .Values.config.openStackUserName }}"
        mso_pass: "{{ .Values.config.openStackEncryptedPasswordHere }}"
        admin_tenant: "{{ .Values.config.openStackServiceTenantName }}"
        member_role: "admin"
        tenant_metadata: true
        identity_server_type: "KEYSTONE"
        identity_authentication_type: "USERNAME_PASSWORD"
    cloud_sites:
      Dallas:
        region_id: "DFW"
        clli: "DFW"
        aic_version: "2.5"
        identity_service_id: "RAX_KEYSTONE"
      Northern Virginia:
        region_id: "IAD"
        clli: "IAD"
        aic_version: "2.5"
        identity_service_id: "RAX_KEYSTONE"
      Chicago:
        region_id: "ORD"
        clli: "ORD"
        aic_version: "2.5"
        identity_service_id: "RAX_KEYSTONE"
      RegionOne:
        region_id: "RegionOne"
        clli: "RegionOne"
        aic_version: "2.5"
        identity_service_id: "DEFAULT_KEYSTONE"
      DEFAULT:
        region_id: "{{ .Values.config.openStackRegion }}"
        clli: "{{ .Values.config.openStackRegion }}"
        aic_version: "2.5"
        identity_service_id: "DEFAULT_KEYSTONE"
so-openstack-adapter:
  auth:
    rest:
      aaf: Basic c29Ac28ub25hcC5vcmc6ZGVtbzEyMzQ1NiE=
      aafEncrypted: 3EDC974C5CD7FE54C47C7490AF4D3B474CDD7D0FFA35A7ACDE3E209631E45F428976EAC0858874F17390A13149E63C90281DD8D20456
  aai:
    auth: 2A11B07DB6214A839394AA1EC5844695F5114FC407FF5422625FB00175A3DCB8A1FF745F22867EFA72D5369D599BBD88DA8BED4233CF5586
  org:
    onap:
      so:
        adapters:
          po:
            pollMultiplier: 57
          valet:
            base_path: api/valet/placement/v1/
            basic_auth: bXNvOkphY2tkYXdzIGxvdmUgbXkgYmlnIHNwaGlueCBvZiBxdWFydHouCg==
  mso:
    audit:
      lockTime: 240000
    workflow:
      topics:
        retryMultiplier: 1
        retrySequence: 1
so-sdnc-adapter:
  apiPaths:
    sdncurl1:
      uri: /sim/restconf/config/L3SDN-API
    sdncurl5:
      uri: /sim/restconf/config
    sdncurl19:
      uri: /sim/restconf/operations/NORTHBOUND-API:service-topology-operation
  auth:
    rest:
      aafEncrypted: 3EDC974C5CD7FE54C47C7490AF4D3B474CDD7D0FFA35A7ACDE3E209631E45F428976EAC0858874F17390A13149E63C90281DD8D20456
so-vnfm-adapter:
  aai:
    auth: 2A11B07DB6214A839394AA1EC5844695F5114FC407FF5422625FB00175A3DCB8A1FF745F22867EFA72D5369D599BBD88DA8BED4233CF5586
    version: v15
  sdc:
    username: mso
    password: 76966BDD3C7414A03F7037264FF2E6C8EEC6C28F2B67F2840A1ED857C0260FEE731D73F47F828E5527125D29FD25D3E0DE39EE44C058906BF1657DE77BF897EECA93BDC07FA64F
    key: 566B754875657232314F5548556D3665
