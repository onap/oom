{
  "comments": [
    {
      "key": {
        "uuid": "2f8cfd50_e95a2897",
        "filename": "kubernetes/platform/components/oom-cert-service/Makefile",
        "patchSetId": 16
      },
      "lineNbr": 33,
      "author": {
        "id": 5097
      },
      "writtenOn": "2020-11-20T09:43:42Z",
      "side": 1,
      "message": "Is it ok from seccom point of view?",
      "range": {
        "startLine": 33,
        "startChar": 44,
        "endLine": 33,
        "endChar": 62
      },
      "revId": "d01040f50eba5a45fff78d703a07b5bb6c9199d0",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9240a78c_e71807d8",
        "filename": "kubernetes/platform/components/oom-cert-service/Makefile",
        "patchSetId": 16
      },
      "lineNbr": 33,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-11-20T12:43:47Z",
      "side": 1,
      "message": "good point. Maybe it would be better to just fix catalog permissions?",
      "parentUuid": "2f8cfd50_e95a2897",
      "range": {
        "startLine": 33,
        "startChar": 44,
        "endLine": 33,
        "endChar": 62
      },
      "revId": "d01040f50eba5a45fff78d703a07b5bb6c9199d0",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "57070816_84290460",
        "filename": "kubernetes/platform/components/oom-cert-service/Makefile",
        "patchSetId": 16
      },
      "lineNbr": 33,
      "author": {
        "id": 3771
      },
      "writtenOn": "2020-11-20T12:51:35Z",
      "side": 1,
      "message": "It\u0027s good idea, unfortunately I don\u0027t know how to do it. \nThe catalog we mount on container, gets permissions user/group 10001/10001, but I don\u0027t know where it\u0027s coming from. We can user 10001 user, so it works on CI, but then it won\u0027t work on local environments, because occures only on CI environment.",
      "parentUuid": "9240a78c_e71807d8",
      "range": {
        "startLine": 33,
        "startChar": 44,
        "endLine": 33,
        "endChar": 62
      },
      "revId": "d01040f50eba5a45fff78d703a07b5bb6c9199d0",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f06ca7ad_756ead2e",
        "filename": "kubernetes/platform/components/oom-cert-service/Makefile",
        "patchSetId": 16
      },
      "lineNbr": 33,
      "author": {
        "id": 3771
      },
      "writtenOn": "2020-11-20T12:54:01Z",
      "side": 1,
      "message": "Just to clarify my previous message. Catalog gets these permissions (10001) only on CI, not on local environment. \n\nI suspected that host permissions are propagated, however it doesn\u0027t occur locally.",
      "parentUuid": "57070816_84290460",
      "range": {
        "startLine": 33,
        "startChar": 44,
        "endLine": 33,
        "endChar": 62
      },
      "revId": "d01040f50eba5a45fff78d703a07b5bb6c9199d0",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "57292f3f_2b751722",
        "filename": "kubernetes/platform/components/oom-cert-service/Makefile",
        "patchSetId": 16
      },
      "lineNbr": 33,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-11-20T13:28:48Z",
      "side": 1,
      "message": "You are right. Permissions gets propagated so in that case I\u0027d basically run the container as the same user who is executing this makefile\n\n--user `whoami`\n\nand it should be fine",
      "parentUuid": "f06ca7ad_756ead2e",
      "range": {
        "startLine": 33,
        "startChar": 44,
        "endLine": 33,
        "endChar": 62
      },
      "revId": "d01040f50eba5a45fff78d703a07b5bb6c9199d0",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42cc7b81_b269b90f",
        "filename": "kubernetes/platform/components/oom-cert-service/Makefile",
        "patchSetId": 16
      },
      "lineNbr": 33,
      "author": {
        "id": 3771
      },
      "writtenOn": "2020-11-20T13:56:01Z",
      "side": 1,
      "message": "OK I tried this. \nIt will probably work on CI, but when I run it locally permissions do not propagate, thus owner of mounted folder is \u0027onap\u0027 and user on my host is \u0027adam\u0027. When I run I got an error, because there is no such user on the container.\n\nSo the problem now is that on CI permissions propagate and locally they do not.",
      "parentUuid": "57292f3f_2b751722",
      "range": {
        "startLine": 33,
        "startChar": 44,
        "endLine": 33,
        "endChar": 62
      },
      "revId": "d01040f50eba5a45fff78d703a07b5bb6c9199d0",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bd5eba2d_49fba831",
        "filename": "kubernetes/platform/components/oom-cert-service/Makefile",
        "patchSetId": 16
      },
      "lineNbr": 33,
      "author": {
        "id": 5775
      },
      "writtenOn": "2020-11-20T14:07:21Z",
      "side": 1,
      "message": "Could you check also --user $(id -u):$(id -g)",
      "parentUuid": "42cc7b81_b269b90f",
      "range": {
        "startLine": 33,
        "startChar": 44,
        "endLine": 33,
        "endChar": 62
      },
      "revId": "d01040f50eba5a45fff78d703a07b5bb6c9199d0",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0909b480_2c217dc8",
        "filename": "kubernetes/platform/components/oom-cert-service/Makefile",
        "patchSetId": 16
      },
      "lineNbr": 33,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-11-20T14:08:21Z",
      "side": 1,
      "message": "My fault. I though that translation username uid happens in host system not inside the container\n\nJust change command to --user `id -u` and it should be fine\n\nBTW mapping works always. You may just not realize this because your user (adam) has probably UID 1000 which is same as onap ;)",
      "parentUuid": "42cc7b81_b269b90f",
      "range": {
        "startLine": 33,
        "startChar": 44,
        "endLine": 33,
        "endChar": 62
      },
      "revId": "d01040f50eba5a45fff78d703a07b5bb6c9199d0",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f8ea859e_3ae6f2be",
        "filename": "kubernetes/platform/components/oom-cert-service/Makefile",
        "patchSetId": 16
      },
      "lineNbr": 33,
      "author": {
        "id": 3771
      },
      "writtenOn": "2020-11-20T14:11:56Z",
      "side": 1,
      "message": "Oh, ok. Good to know, thanks :) \nI try with id -u then",
      "parentUuid": "0909b480_2c217dc8",
      "range": {
        "startLine": 33,
        "startChar": 44,
        "endLine": 33,
        "endChar": 62
      },
      "revId": "d01040f50eba5a45fff78d703a07b5bb6c9199d0",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    }
  ]
}