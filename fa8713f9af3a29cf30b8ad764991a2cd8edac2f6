{
  "comments": [
    {
      "key": {
        "uuid": "3b461e8e_90610346",
        "filename": "kubernetes/vid/values.yaml",
        "patchSetId": 4
      },
      "lineNbr": 66,
      "author": {
        "id": 4379
      },
      "writtenOn": "2019-11-18T14:48:37Z",
      "side": 1,
      "message": "`replicaCount` should be at least 2 (as was in vid-mariadb-galera/values.yaml)",
      "revId": "fa8713f9af3a29cf30b8ad764991a2cd8edac2f6",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "272e7337_ee53dbf6",
        "filename": "kubernetes/vid/values.yaml",
        "patchSetId": 4
      },
      "lineNbr": 66,
      "author": {
        "id": 2319
      },
      "writtenOn": "2019-11-18T14:55:37Z",
      "side": 1,
      "message": "replicaCount was 2 in vid-mariadb-galera/values.yaml but it was overriden by this line (which is untouched on this review).\nFor example, here\u0027s the result of daily master:\nkubectl get po -n onap | grep vid\nonap-vid-vid-64569f57cf-nt6rz                                2/2     Running            0          8h\nonap-vid-vid-galera-config-qmtcv                             0/1     Completed          0          8h\nonap-vid-vid-galera-config-w4jll                             0/1     Init:Error         0          8h\nonap-vid-vid-mariadb-galera-0                                1/1     Running            0          8h\n\nIn https://galeracluster.com/library/documentation/weighted-quorum.html, we can see:\n\nn order to enable automatic failovers, you need to use at least three nodes. Bear in mind that this scales out to other levels of infrastructure, for the same reasons.\n\nSingle switch clusters should use a minimum of 3 nodes.\nClusters spanning switches should use a minimum of 3 switches.\nClusters spanning networks should use a minimum of 3 networks.\nClusters spanning data centers should use a minimum of 3 data centers.\n\n\nSo if you want not to have a cluster of 1 per default, we should move to 3.\nAfter, this is a transient solution as I want to move vid database(s) into common galera cluster which has 3 nodes.\n\nSo it\u0027s up to you :)",
      "parentUuid": "3b461e8e_90610346",
      "revId": "fa8713f9af3a29cf30b8ad764991a2cd8edac2f6",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    }
  ]
}