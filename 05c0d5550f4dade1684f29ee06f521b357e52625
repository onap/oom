{
  "comments": [
    {
      "key": {
        "uuid": "f35dc2c7_da47bb31",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 8,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-09-03T15:46:35Z",
      "side": 1,
      "message": "empty line before issue-id and no empty line after (should be directly above Change-ID\n\n+ please add at least one sentence describing your change\nPerfectly if you could document the mariadb-init extension here",
      "revId": "05c0d5550f4dade1684f29ee06f521b357e52625",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "115ba3e6_e103fee9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 8,
      "author": {
        "id": 6910
      },
      "writtenOn": "2020-09-04T11:01:05Z",
      "side": 1,
      "message": "Will put a brief description of the extension.",
      "parentUuid": "f35dc2c7_da47bb31",
      "revId": "05c0d5550f4dade1684f29ee06f521b357e52625",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "27225c78_956da896",
        "filename": "kubernetes/common/mariadb-init/templates/job.yaml",
        "patchSetId": 1
      },
      "lineNbr": 61,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-09-03T15:44:37Z",
      "side": 1,
      "message": "this construction makes no sense",
      "range": {
        "startLine": 55,
        "startChar": 11,
        "endLine": 61,
        "endChar": 15
      },
      "revId": "05c0d5550f4dade1684f29ee06f521b357e52625",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a92a5ece_dc5a147f",
        "filename": "kubernetes/common/mariadb-init/templates/job.yaml",
        "patchSetId": 1
      },
      "lineNbr": 61,
      "author": {
        "id": 6910
      },
      "writtenOn": "2020-09-04T11:01:05Z",
      "side": 1,
      "message": "\"bash\" was added before the script as the file is set as read-only after mounting. One way to execute it to pass to bash as a parameter.\n\n{{ if .Values.dbScriptConfigMap }} \n\nThe above checks if a \"dbScriptConfigMap\" is empty string. The default value in mariadb-init is empty string (\"\"). When a component wants an extra script to be executed after DB creation, it will set. Right now, except for VID no other component sets this value.",
      "parentUuid": "27225c78_956da896",
      "range": {
        "startLine": 55,
        "startChar": 11,
        "endLine": 61,
        "endChar": 15
      },
      "revId": "05c0d5550f4dade1684f29ee06f521b357e52625",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "99cf6f3c_5a7ecf12",
        "filename": "kubernetes/common/mariadb-init/templates/job.yaml",
        "patchSetId": 1
      },
      "lineNbr": 103,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-09-03T15:44:37Z",
      "side": 1,
      "message": "we prefer k8s indent style:\n val:\n - item\n - item",
      "revId": "05c0d5550f4dade1684f29ee06f521b357e52625",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2c2bf763_4b2d56a8",
        "filename": "kubernetes/common/mariadb-init/templates/job.yaml",
        "patchSetId": 1
      },
      "lineNbr": 103,
      "author": {
        "id": 6910
      },
      "writtenOn": "2020-09-04T11:01:05Z",
      "side": 1,
      "message": "Will change it to k8s style.",
      "parentUuid": "99cf6f3c_5a7ecf12",
      "revId": "05c0d5550f4dade1684f29ee06f521b357e52625",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "25736623_0ed75a51",
        "filename": "kubernetes/common/mariadb-init/values.yaml",
        "patchSetId": 1
      },
      "lineNbr": 53,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-09-03T15:44:37Z",
      "side": 1,
      "message": "Ok so this is the option with external config map but it would be great to have also the option to just pass the script as a string then you would have:\n\ndbScript: \"\"\ndbScriptConfigMap: \"\"\n\nnow the rules would be:\nif both are unset no additional config maps is created in mariadb-init and nothing is run\nif dbScript is set and dbScriptConfigMap is unset mariadb-init should create an additional config map and place there the content of dbScript, mount it and run it\nif dbScript is unset and dbScriptConfigMap is set the behavior should be as in your patch\nif both are set dbScriptConfigMap should have a precedence over dbScript and the external config map should be used\n\nand just btw I\u0027d prefer the name dbScriptExternalConfigMap to mimic the same naming schematics as we have for secrets",
      "revId": "05c0d5550f4dade1684f29ee06f521b357e52625",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d79757b7_0c115265",
        "filename": "kubernetes/common/mariadb-init/values.yaml",
        "patchSetId": 1
      },
      "lineNbr": 53,
      "author": {
        "id": 6910
      },
      "writtenOn": "2020-09-04T11:01:05Z",
      "side": 1,
      "message": "What do we achieve by having two mechanism ? Is there a benefit of having just the script ? Any specific use case you have in mind ? \n\nI will change the name to dbScriptExternalConfigMap to match the naming scheme.",
      "parentUuid": "25736623_0ed75a51",
      "revId": "05c0d5550f4dade1684f29ee06f521b357e52625",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7ea8a368_6129e234",
        "filename": "kubernetes/vid/resources/config/db_cmd.sh",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-09-03T15:44:37Z",
      "side": 1,
      "message": "newline before this if plz",
      "revId": "05c0d5550f4dade1684f29ee06f521b357e52625",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a7190a76_96afb299",
        "filename": "kubernetes/vid/resources/config/db_cmd.sh",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 6910
      },
      "writtenOn": "2020-09-04T11:01:05Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "7ea8a368_6129e234",
      "revId": "05c0d5550f4dade1684f29ee06f521b357e52625",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1d87b1fc_0f68ae08",
        "filename": "kubernetes/vid/values.yaml",
        "patchSetId": 1
      },
      "lineNbr": 95,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-09-03T15:44:37Z",
      "side": 1,
      "message": "whitespace",
      "revId": "05c0d5550f4dade1684f29ee06f521b357e52625",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "99a3ab82_d9f8518e",
        "filename": "kubernetes/vid/values.yaml",
        "patchSetId": 1
      },
      "lineNbr": 95,
      "author": {
        "id": 6910
      },
      "writtenOn": "2020-09-04T11:01:05Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "1d87b1fc_0f68ae08",
      "revId": "05c0d5550f4dade1684f29ee06f521b357e52625",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}