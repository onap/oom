{
  "comments": [
    {
      "key": {
        "uuid": "1f0e3654_8d79e381",
        "filename": "kubernetes/uui/components/uui-nlp/values.yaml",
        "patchSetId": 9
      },
      "lineNbr": 63,
      "author": {
        "id": 2319
      },
      "writtenOn": "2021-09-16T11:51:25Z",
      "side": 1,
      "message": "no, this has to be:\n  ports:\n    - name: http-online\n      port: 33011\n    - name: http-offline\n      port: 33012\n    - name: http-upload\n      port: 33013",
      "revId": "7f69fb37c83bb7e33f4f1de60afd5b90b7bd3420",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ef77c38f_5ab640fd",
        "filename": "kubernetes/uui/components/uui-nlp/values.yaml",
        "patchSetId": 9
      },
      "lineNbr": 63,
      "author": {
        "id": 7640
      },
      "writtenOn": "2021-09-18T02:13:23Z",
      "side": 1,
      "message": "When generating the template, the value of port name will be set to targetport, making other containers inaccessible.\n1) When we write in name: http online format, the generated service template\nspec:\n  clusterIP: 10.1.71.166\n  ports:\n  - name: http-online\n    port: 33011\n    protocol: TCP\n    targetPort: http-online\n  - name: http-offline\n    port: 33012\n    protocol: TCP\n    targetPort: http-offline\n  - name: http-upload\n    port: 33013\n    protocol: TCP\n    targetPort: http-upload\n  selector:\n    app.kubernetes.io/instance: dev\n    app.kubernetes.io/name: uui-nlp\n  sessionAffinity: None\n  type: ClusterIP\n2) Deployed service\nroot@master-45:~/oom/kubernetes# kubectl -n onap get svc\nNAME         TYPE        CLUSTER-IP    EXTERNAL-IP   PORT(S)                         AGE\nuui          NodePort    10.1.102.80   \u003cnone\u003e        8443:30398/TCP                  2m20s\nuui-nlp      ClusterIP   10.1.71.166   \u003cnone\u003e        33011/TCP,33012/TCP,33013/TCP   2m20s\nuui-server   NodePort    10.1.67.177   \u003cnone\u003e        8082:30399/TCP                  2m20s\n3) On the container UUI server, you can access the services of UUI and UUI server, but you cannot access the services of UUI NLP\npostgres@dev-uui-server-bf5dc6757-kwhcm:/home/uui$ curl uui:8443\nBad Request\nThis combination of host and port requires TLS.\npostgres@dev-uui-server-bf5dc6757-kwhcm:/home/uui$ curl uui-server:8082\nBad Request\nThis combination of host and port requires TLS.\npostgres@dev-uui-server-bf5dc6757-kwhcm:/home/uui$ curl uui-nlp:33011\n^C\npostgres@dev-uui-server-bf5dc6757-kwhcm:/home/uui$ curl uui-nlp:33012\n^C\n4) If name: \"33011\" is set, the UUI NLP: 33011 service can be accessed on the container UUI server",
      "parentUuid": "1f0e3654_8d79e381",
      "revId": "7f69fb37c83bb7e33f4f1de60afd5b90b7bd3420",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    }
  ]
}