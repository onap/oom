{
  "comments": [
    {
      "key": {
        "uuid": "01a04862_88933ace",
        "filename": "kubernetes/dcaemod/components/dcaemod-designtool/templates/service.yaml",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-02-21T23:46:38Z",
      "side": 1,
      "message": "we have helm templates for services now. Please use them.\nYou can find an example here:\nhttps://gerrit.onap.org/r/#/c/oom/+/101749/",
      "revId": "716cb4803746cf62f10eb194b0f416bde861ca4e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bafda3e_81ae8b66",
        "filename": "kubernetes/dcaemod/components/dcaemod-designtool/templates/service.yaml",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 511
      },
      "writtenOn": "2020-02-26T22:39:42Z",
      "side": 1,
      "message": "Possibly I am doing something wrong, but with the following in values.yaml:\nservice:\n    type: ClusterIP\n    name: dcaemod-designtool\n    ports:\n    - name: http\n      port: 8080\n\nI get the following k8s spec:\napiVersion: v1\nkind: Service\nmetadata:\n\n  name: dcaemod-designtool\n  namespace: onap\n  labels:\n    app.kubernetes.io/name: dcaemod-designtool\n    helm.sh/chart: dcaemod-designtool-6.0.0\n    app.kubernetes.io/instance: testmod\n    app.kubernetes.io/managed-by: Tiller\nspec:\n  ports:\n\n    - port: 8080\n      targetPort: http\n      name: http\n  type: ClusterIP\n  selector:\n    app.kubernetes.io/name: dcaemod-designtool\n    app.kubernetes.io/instance: testmod\n\nThe targetPort should be a port number, not a copy of the port name.   The template should probably not generate the targetPort at all.  Rather, if it\u0027s desired to have the port and targetPort be different, the values.yaml should supply a targetPort value.   Otherwise, targetPort can be omitted, and k8s will default it to the same value as port.\n\nWhen I attempt to deploy the chart, I get the following error:\nError: release testmod failed: Service \"dcaemod-distributor-api\" is invalid: spec.ports: Required value\n\nSee _service.tpl line 68 for the targetPort setting.\n\nAlso I note that the selectors assume labeling on the target deployment that follow a different convention from what we have used in the past.  \n\nAt the head of the master branch, I don\u0027t see any project using this template yet.\nI propose not to use the service template in the Frankfurt release, unless there is a simple fix I can make to my values.yaml or service.yaml file.",
      "parentUuid": "01a04862_88933ace",
      "revId": "716cb4803746cf62f10eb194b0f416bde861ca4e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3739e257_62cc4a50",
        "filename": "kubernetes/dcaemod/components/dcaemod-distributor-api/templates/deployment.yaml",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-02-21T23:46:38Z",
      "side": 1,
      "message": "please use apps/v1 version",
      "revId": "716cb4803746cf62f10eb194b0f416bde861ca4e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "929f0d79_ca1262df",
        "filename": "kubernetes/dcaemod/components/dcaemod-distributor-api/templates/deployment.yaml",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 511
      },
      "writtenOn": "2020-02-26T22:39:42Z",
      "side": 1,
      "message": "Addressed in patchset #3",
      "parentUuid": "3739e257_62cc4a50",
      "revId": "716cb4803746cf62f10eb194b0f416bde861ca4e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ef0bfb63_d8b5e8e5",
        "filename": "kubernetes/dcaemod/components/dcaemod-distributor-api/values.yaml",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-02-21T23:46:38Z",
      "side": 1,
      "message": "awwww ingress enabled by default awesome!:)",
      "revId": "716cb4803746cf62f10eb194b0f416bde861ca4e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "85e5a698_970868f7",
        "filename": "kubernetes/dcaemod/components/dcaemod-nifi-registry/templates/deployment.yaml",
        "patchSetId": 2
      },
      "lineNbr": 75,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-02-21T23:46:38Z",
      "side": 1,
      "message": "Please use secrets to access this.\nWe have also a new secret template which you can use.",
      "revId": "716cb4803746cf62f10eb194b0f416bde861ca4e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c172704d_005a8cb1",
        "filename": "kubernetes/dcaemod/components/dcaemod-nifi-registry/templates/deployment.yaml",
        "patchSetId": 2
      },
      "lineNbr": 75,
      "author": {
        "id": 511
      },
      "writtenOn": "2020-02-27T13:30:31Z",
      "side": 1,
      "message": "Done in patchset 4",
      "parentUuid": "85e5a698_970868f7",
      "revId": "716cb4803746cf62f10eb194b0f416bde861ca4e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "496faa68_96dd66ac",
        "filename": "kubernetes/dcaemod/components/dcaemod-onboarding-api/templates/deployment.yaml",
        "patchSetId": 2
      },
      "lineNbr": 73,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-02-21T23:46:38Z",
      "side": 1,
      "message": "Password should be passed as a secret",
      "revId": "716cb4803746cf62f10eb194b0f416bde861ca4e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d8f4ed44_664b7d64",
        "filename": "kubernetes/dcaemod/components/dcaemod-onboarding-api/values.yaml",
        "patchSetId": 2
      },
      "lineNbr": 72,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-02-21T23:46:38Z",
      "side": 1,
      "message": "Don\u0027t hardcode postgres password use common secret template. Let me know if you need help with this",
      "revId": "716cb4803746cf62f10eb194b0f416bde861ca4e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f2f045e8_82abc71e",
        "filename": "kubernetes/dcaemod/components/dcaemod-runtime-api/templates/deployment.yaml",
        "patchSetId": 2
      },
      "lineNbr": 57,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-02-21T23:46:38Z",
      "side": 1,
      "message": "secret",
      "revId": "716cb4803746cf62f10eb194b0f416bde861ca4e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e42e4f2e_7264b483",
        "filename": "kubernetes/dcaemod/components/dcaemod-runtime-api/templates/deployment.yaml",
        "patchSetId": 2
      },
      "lineNbr": 57,
      "author": {
        "id": 511
      },
      "writtenOn": "2020-02-27T13:30:31Z",
      "side": 1,
      "message": "Done in patchset 4",
      "parentUuid": "f2f045e8_82abc71e",
      "revId": "716cb4803746cf62f10eb194b0f416bde861ca4e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f1d3c8ec_4547f0e2",
        "filename": "kubernetes/dcaemod/components/dcaemod-runtime-api/templates/deployment.yaml",
        "patchSetId": 2
      },
      "lineNbr": 59,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-02-21T23:46:38Z",
      "side": 1,
      "message": "secret",
      "revId": "716cb4803746cf62f10eb194b0f416bde861ca4e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "31abecce_1d900950",
        "filename": "kubernetes/dcaemod/components/dcaemod-runtime-api/templates/deployment.yaml",
        "patchSetId": 2
      },
      "lineNbr": 59,
      "author": {
        "id": 511
      },
      "writtenOn": "2020-02-27T13:30:31Z",
      "side": 1,
      "message": "Done in patchset 4",
      "parentUuid": "f1d3c8ec_4547f0e2",
      "revId": "716cb4803746cf62f10eb194b0f416bde861ca4e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}