{
  "comments": [
    {
      "key": {
        "uuid": "e95aa9c7_e23262bd",
        "filename": "kubernetes/policy/components/policy-apex-pdp/values.yaml",
        "patchSetId": 4
      },
      "lineNbr": 53,
      "author": {
        "id": 7603
      },
      "writtenOn": "2022-09-13T11:11:08Z",
      "side": 1,
      "message": "If this secret login is to be used for other components too, we should define it in the top-level policy component generate the password there. This can then be passed to the other components. The same thing is done for the database credentials.\n\nOr will each component that has to access Kafka have its\u0027 own generated secret?",
      "range": {
        "startLine": 47,
        "startChar": 0,
        "endLine": 53,
        "endChar": 24
      },
      "revId": "b7d3f2417d5b6960d4ed0b2f4a1f5e805e4a2dfa",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7074075_c8df061b",
        "filename": "kubernetes/policy/components/policy-apex-pdp/values.yaml",
        "patchSetId": 4
      },
      "lineNbr": 53,
      "author": {
        "id": 7504
      },
      "writtenOn": "2022-09-14T07:50:17Z",
      "side": 1,
      "message": "Will discuss the suggestion internally and can move the generation on secrets to top-level policy component. Approach taken here is similar to CPS, where secrets are generated at component level, even if kafka user used across components is same (cps-kafka-user)\n\n...oom/kubernetes/cps (master)\n$ grep -r \"\\- uid\\: cps\\-kafka\\-user\" *\ncomponents/cps-core/values.yaml:  - uid: cps-kafka-user\ncomponents/cps-temporal/values.yaml:  - uid: cps-kafka-user",
      "parentUuid": "e95aa9c7_e23262bd",
      "range": {
        "startLine": 47,
        "startChar": 0,
        "endLine": 53,
        "endChar": 24
      },
      "revId": "b7d3f2417d5b6960d4ed0b2f4a1f5e805e4a2dfa",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a768d695_f0291338",
        "filename": "kubernetes/policy/components/policy-clamp-ac-http-ppnt/resources/config/HttpParticipantParameters.yaml",
        "patchSetId": 4
      },
      "lineNbr": 76,
      "author": {
        "id": 7603
      },
      "writtenOn": "2022-09-13T11:11:08Z",
      "side": 1,
      "message": "If this refers to the secret defined in apex, it may not work. Secret should generally be generated in top level component and passed down.",
      "range": {
        "startLine": 76,
        "startChar": 31,
        "endLine": 76,
        "endChar": 43
      },
      "revId": "b7d3f2417d5b6960d4ed0b2f4a1f5e805e4a2dfa",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e51ebd83_3b7705b5",
        "filename": "kubernetes/policy/components/policy-clamp-ac-http-ppnt/resources/config/HttpParticipantParameters.yaml",
        "patchSetId": 4
      },
      "lineNbr": 76,
      "author": {
        "id": 7504
      },
      "writtenOn": "2022-09-14T07:50:17Z",
      "side": 1,
      "message": "This secret is defined in components/policy-clamp-ac-http-ppnt/templates/deployment.yaml\n{{- if .Values.config.useStrimziKafka }}\n        - name: JAASLOGIN\n          {{- include \"common.secret.envFromSecretFast\" (dict \"global\" . \"uid\" \"policy-kafka-user\" \"key\" \"sasl.jaas.config\") | indent 10 }}\n{{- end }}",
      "parentUuid": "a768d695_f0291338",
      "range": {
        "startLine": 76,
        "startChar": 31,
        "endLine": 76,
        "endChar": 43
      },
      "revId": "b7d3f2417d5b6960d4ed0b2f4a1f5e805e4a2dfa",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "96eeba95_55151aef",
        "filename": "kubernetes/policy/components/policy-clamp-ac-http-ppnt/resources/config/HttpParticipantParameters.yaml",
        "patchSetId": 4
      },
      "lineNbr": 76,
      "author": {
        "id": 7603
      },
      "writtenOn": "2022-09-14T08:01:44Z",
      "side": 1,
      "message": "The secret is referenced here - it is not defined here. So, the secret that is generated in Apex values.yaml is used here...\n\nSo, the question is, what happens if we choose not to deploy apex? The secret will not be defined...",
      "parentUuid": "e51ebd83_3b7705b5",
      "range": {
        "startLine": 76,
        "startChar": 31,
        "endLine": 76,
        "endChar": 43
      },
      "revId": "b7d3f2417d5b6960d4ed0b2f4a1f5e805e4a2dfa",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "738889e8_9db7c53a",
        "filename": "kubernetes/policy/components/policy-clamp-ac-k8s-ppnt/resources/config/KubernetesParticipantParameters.yaml",
        "patchSetId": 4
      },
      "lineNbr": 82,
      "author": {
        "id": 7603
      },
      "writtenOn": "2022-09-13T11:11:08Z",
      "side": 1,
      "message": "If this refers to the secret defined in apex, it may not work. Secret should generally be generated in top level component and passed down.",
      "range": {
        "startLine": 82,
        "startChar": 31,
        "endLine": 82,
        "endChar": 43
      },
      "revId": "b7d3f2417d5b6960d4ed0b2f4a1f5e805e4a2dfa",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9875948a_394479b1",
        "filename": "kubernetes/policy/components/policy-clamp-ac-k8s-ppnt/resources/config/KubernetesParticipantParameters.yaml",
        "patchSetId": 4
      },
      "lineNbr": 82,
      "author": {
        "id": 7504
      },
      "writtenOn": "2022-09-14T07:50:17Z",
      "side": 1,
      "message": "This secret is defined in components/policy-clamp-ac-k8s-ppnt/templates/deployment.yaml",
      "parentUuid": "738889e8_9db7c53a",
      "range": {
        "startLine": 82,
        "startChar": 31,
        "endLine": 82,
        "endChar": 43
      },
      "revId": "b7d3f2417d5b6960d4ed0b2f4a1f5e805e4a2dfa",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e1237fd9_b09f13bf",
        "filename": "kubernetes/policy/components/policy-clamp-ac-pf-ppnt/resources/config/PolicyParticipantParameters.yaml",
        "patchSetId": 4
      },
      "lineNbr": 98,
      "author": {
        "id": 7603
      },
      "writtenOn": "2022-09-13T11:11:08Z",
      "side": 1,
      "message": "If this refers to the secret defined in apex, it may not work. Secret should generally be generated in top level component and passed down.",
      "range": {
        "startLine": 98,
        "startChar": 31,
        "endLine": 98,
        "endChar": 43
      },
      "revId": "b7d3f2417d5b6960d4ed0b2f4a1f5e805e4a2dfa",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "20d93fc8_53cb04f4",
        "filename": "kubernetes/policy/components/policy-clamp-ac-pf-ppnt/resources/config/PolicyParticipantParameters.yaml",
        "patchSetId": 4
      },
      "lineNbr": 98,
      "author": {
        "id": 7504
      },
      "writtenOn": "2022-09-14T07:50:17Z",
      "side": 1,
      "message": "This secret is defined in components/policy-clamp-ac-pf-ppnt/templates/deployment.yaml",
      "parentUuid": "e1237fd9_b09f13bf",
      "range": {
        "startLine": 98,
        "startChar": 31,
        "endLine": 98,
        "endChar": 43
      },
      "revId": "b7d3f2417d5b6960d4ed0b2f4a1f5e805e4a2dfa",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7ef8ab0d_a3d3fe34",
        "filename": "kubernetes/policy/components/policy-clamp-runtime-acm/resources/config/acRuntimeParameters.yaml",
        "patchSetId": 4
      },
      "lineNbr": 109,
      "author": {
        "id": 7603
      },
      "writtenOn": "2022-09-13T11:11:08Z",
      "side": 1,
      "message": "If this refers to the secret defined in apex, it may not work. Secret should generally be generated in top level component and passed down.",
      "range": {
        "startLine": 109,
        "startChar": 29,
        "endLine": 109,
        "endChar": 41
      },
      "revId": "b7d3f2417d5b6960d4ed0b2f4a1f5e805e4a2dfa",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "574ada7e_5da19dd6",
        "filename": "kubernetes/policy/components/policy-clamp-runtime-acm/resources/config/acRuntimeParameters.yaml",
        "patchSetId": 4
      },
      "lineNbr": 109,
      "author": {
        "id": 7504
      },
      "writtenOn": "2022-09-14T07:50:17Z",
      "side": 1,
      "message": "This secret is defined in components/policy-clamp-runtime-acm/templates/deployment.yaml",
      "parentUuid": "7ef8ab0d_a3d3fe34",
      "range": {
        "startLine": 109,
        "startChar": 29,
        "endLine": 109,
        "endChar": 41
      },
      "revId": "b7d3f2417d5b6960d4ed0b2f4a1f5e805e4a2dfa",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa415511_136aee93",
        "filename": "kubernetes/policy/components/policy-pap/resources/config/papParameters.yaml",
        "patchSetId": 4
      },
      "lineNbr": 107,
      "author": {
        "id": 7603
      },
      "writtenOn": "2022-09-13T11:11:08Z",
      "side": 1,
      "message": "If this refers to the secret defined in apex, it may not work. Secret should generally be generated in top level component and passed down.",
      "range": {
        "startLine": 107,
        "startChar": 31,
        "endLine": 107,
        "endChar": 43
      },
      "revId": "b7d3f2417d5b6960d4ed0b2f4a1f5e805e4a2dfa",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "31857798_539fad1f",
        "filename": "kubernetes/policy/components/policy-pap/resources/config/papParameters.yaml",
        "patchSetId": 4
      },
      "lineNbr": 107,
      "author": {
        "id": 7504
      },
      "writtenOn": "2022-09-14T07:50:17Z",
      "side": 1,
      "message": "This secret is defined in components/policy-pap/templates/deployment.yaml",
      "parentUuid": "fa415511_136aee93",
      "range": {
        "startLine": 107,
        "startChar": 31,
        "endLine": 107,
        "endChar": 43
      },
      "revId": "b7d3f2417d5b6960d4ed0b2f4a1f5e805e4a2dfa",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}