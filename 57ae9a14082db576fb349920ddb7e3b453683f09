{
  "comments": [
    {
      "key": {
        "uuid": "9b3c4924_a8fb0928",
        "filename": "kubernetes/cds/components/cds-blueprints-processor/values.yaml",
        "patchSetId": 1
      },
      "lineNbr": 86,
      "author": {
        "id": 2319
      },
      "writtenOn": "2021-06-02T18:17:31Z",
      "side": 1,
      "message": "Does this two values refers to the same but not encrypted values?\nIf yes, I’d prefer to cipher them at launch or not cipher them at all",
      "revId": "57ae9a14082db576fb349920ddb7e3b453683f09",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "52da6322_65296ed0",
        "filename": "kubernetes/cds/components/cds-blueprints-processor/values.yaml",
        "patchSetId": 1
      },
      "lineNbr": 86,
      "author": {
        "id": 6218
      },
      "writtenOn": "2021-06-02T18:27:52Z",
      "side": 1,
      "message": "My aim was to centralize everything so that if you want to change password you do it at only one place (api-credentials above). This is the last part of that puzzle, which I could not fix only with chart changes. The issue is that these AES hashes are generated using a key and an InitVector. The helm function for creating AES hashes does not support this. So this will require code changes in CDS. At least now it is extracted from the application.properties file and can be overridden, that is a small improvement.",
      "parentUuid": "9b3c4924_a8fb0928",
      "revId": "57ae9a14082db576fb349920ddb7e3b453683f09",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f1220237_ad4afcb2",
        "filename": "kubernetes/cds/components/cds-blueprints-processor/values.yaml",
        "patchSetId": 1
      },
      "lineNbr": 86,
      "author": {
        "id": 2319
      },
      "writtenOn": "2021-06-16T06:32:02Z",
      "side": 1,
      "message": "for other components, we\u0027re using an init container to transform \"normal\" values into (unecessary) ciphered values.\n\nYou could do the same.\n\nHere\u0027s my proposal: keep it this way for now.\n\nBut, please come back with a solution (either via init container or code change in CDS) to get rid of this awful values.\n\nAnd at this time, use secrets to store them (look at how it\u0027s done in policy for example)",
      "parentUuid": "52da6322_65296ed0",
      "revId": "57ae9a14082db576fb349920ddb7e3b453683f09",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "69a23236_a68336c5",
        "filename": "kubernetes/cds/components/cds-blueprints-processor/values.yaml",
        "patchSetId": 1
      },
      "lineNbr": 86,
      "author": {
        "id": 6218
      },
      "writtenOn": "2021-06-16T13:15:53Z",
      "side": 1,
      "message": "Thanks for feedback. Yes this needs to be fixed in CDS code. Since these values are only used for interpolation in application.properties file, I am not sure I see the purpose of putting them in a secret? That would mean I have to also pass them as environment variables. The purpose at this point was just to make sure we can change it at all, instead of hard coding.",
      "parentUuid": "f1220237_ad4afcb2",
      "revId": "57ae9a14082db576fb349920ddb7e3b453683f09",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "97bc1118_0040cea2",
        "filename": "kubernetes/cds/components/cds-blueprints-processor/values.yaml",
        "patchSetId": 1
      },
      "lineNbr": 86,
      "author": {
        "id": 2319
      },
      "writtenOn": "2021-06-22T14:03:46Z",
      "side": 1,
      "message": "well, it\u0027s sensitive values and possible backdoors so that means we must have something to hide them",
      "parentUuid": "69a23236_a68336c5",
      "revId": "57ae9a14082db576fb349920ddb7e3b453683f09",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7202d67d_33e6a586",
        "filename": "kubernetes/cds/components/cds-blueprints-processor/values.yaml",
        "patchSetId": 1
      },
      "lineNbr": 86,
      "author": {
        "id": 6218
      },
      "writtenOn": "2021-06-22T14:47:53Z",
      "side": 1,
      "message": "I\u0027m sorry I don\u0027t understand. If we have a password in the values file that will be used only for templating the application.properties file, which is then mounted into the pod. How is it better to first put the password into a secret, and then expose the secret as environment variable to finally reference that variable in application.properties? That secret would be completely redundant.",
      "parentUuid": "97bc1118_0040cea2",
      "revId": "57ae9a14082db576fb349920ddb7e3b453683f09",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "764145c3_33e8bc0c",
        "filename": "kubernetes/cds/components/cds-sdc-listener/values.yaml",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 2319
      },
      "writtenOn": "2021-06-02T18:17:31Z",
      "side": 1,
      "message": "I’d prefer to have user / password in values and base64 encode them at launch",
      "revId": "57ae9a14082db576fb349920ddb7e3b453683f09",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c9fdced8_a66684e8",
        "filename": "kubernetes/cds/components/cds-sdc-listener/values.yaml",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 6218
      },
      "writtenOn": "2021-06-02T18:27:52Z",
      "side": 1,
      "message": "This is merely a placeholder, the actual value should come from the shared external secret in the parent chart. Was not sure if i could remove it from here?",
      "parentUuid": "764145c3_33e8bc0c",
      "revId": "57ae9a14082db576fb349920ddb7e3b453683f09",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4b9e6ca4_5306dd51",
        "filename": "kubernetes/cds/components/cds-sdc-listener/values.yaml",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 2319
      },
      "writtenOn": "2021-06-16T06:32:02Z",
      "side": 1,
      "message": "oh OK understood!\n\nas code in parent is OK, let\u0027s keep it this way here",
      "parentUuid": "c9fdced8_a66684e8",
      "revId": "57ae9a14082db576fb349920ddb7e3b453683f09",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}