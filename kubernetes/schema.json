{
	"title": "Values",
	"description": "default schema for values chart of ONAP project",
	"type": "object",
	"required": [
		"global",
		"repository",
		"image",
		"pullPolicy",
		"replicaCount",
		"resources"
	],
	"properties": {
		"global": {
			"type": "object",
			"required": [
				"repository"
			],
			"description": "default global configuration",
			"properties": {
				"nodePortPrefix": {
					"type": "integer",
					"default": "302"
				},
				"readinessRepository": {
					"type": "string",
					"default": "oomk8s"
				},
				"readinessImage": {
					"type": "string",
					"default": "readiness-check:2.0.0"
				},
				"loggingRepository": {
					"type": "string",
					"const": "docker.elastic.co"
				},
				"loggingImage": {
					"type": "string",
					"default": "beats/filebeat:5.5.0"
				},
				"persistence": {
					"type": "object",
					"properties": {
						"mountPath": {
							"type": "string",
							"const": "/dockerdata-nfs"
						},
						"enabled": {
							"type": "boolean",
							"default": "true"
						}
					}
				},
				"ubuntuInitRepository": {
					"type": "string"
				},
				"ubuntuInitImage": {
					"type": "string",
					"default": ""
				},
				"repository": {
					"type": "string",
					"default": "nexus3.onap.org:10001"
				}
			}
		},
		"flavor": {
			"type": "string",
			"default": "small"
		},
		"repository": {
			"type": "string"

		},
		"image": {
			"type": "string"
		},
		"pullPolicy": {
			"type": "string",
			"default": "Always"
		},
		"debugEnabled": {
			"type": "boolean",
			"default": "false"
		},
		"replicaCount": {
			"type": "integer",
			"default": "1"
		},
		"liveness": {
			"type": "object",
			"required": [
				"initialDelaySeconds",
				"periodSeconds",
				"enabled"
			],
			"properties": {
				"initialDelaySeconds": {
					"type": "integer"
				},
				"periodSeconds": {
					"type": "integer"
				},
				"enabled": {
					"type": "boolean",
					"default": "true"
				},
				"timeoutSeconds": {
					"type": "integer"
				}
			}
		},
		"readiness": {
			"type": "object",
			"required": [
				"initialDelaySeconds",
				"periodSeconds"
			],
			"properties": {
				"initialDelaySeconds": {
					"type": "integer"
				},
				"periodSeconds": {
					"type": "integer"
				}
			}
		},
		"ingress": {
			"type": "object",
			"required": ["enabled"],
			"properties": {
				"enabled": {
					"type": "boolean",
					"default": "false"
				}
			}
		},
		"service": {
			"type": "object",
			"properties": {
				"type": {
					"type": "string",
					"enum": [
						"ClusterIP",
						"NodePort",
						"LoadBalancer",
						"ExternalName"
					]
				},
				"name": {
					"type": "string"
				},
				"portName": {
					"type": "string"
				},
				"internalPort": {
					"type": "integer"
				},
				"externalPort": {
					"type": "integer"
				},
				"nodePort": {
					"type": "integer"
				}
			}
		},
		"resources": {
			"type": "object",
			"definitions": {
				"resourceValues": {
					"type": "object",
					"required": [
						"limits",
						"requests"
					],
					"properties": {
						"limits": {
							"type": "object",
							"required": [
								"cpu",
								"memory"
							],
							"properties": {
								"cpu": {

                                },
								"memory": {
									"type": "string"
								}
							},
                          "if": {
                            "properties": {
                              "cpu": {
                                "type": "integer"
                              }
                            }
                          },
                          "else": {
                            "properties": {
                              "cpu": {
                                "type": "string"
                              }
                            }
                          }
						},
						"requests": {
							"type": "object",
							"required": [
								"cpu",
								"memory"
							],
							"properties": {
								"cpu": {
								},
								"memory": {
									"type": "string"
								}
							},
                          "if": {
                            "properties": {
                              "cpu": {
                                "type": "integer"
                              }
                            }
                          },
                          "else": {
                            "properties": {
                              "cpu": {
                                "type": "string"
                              }
                            }
                          }
						}
					}
				}
			},
			"required": [
				"small",
				"large",
				"unlimited"
			],
			"properties": {
				"small": {
					"$ref": "#/properties/resources/definitions/resourceValues"
				},
				"large": {
					"$ref": "#/properties/resources/definitions/resourceValues"
				},
				"unlimited": {}
			}
		}
	}
}














