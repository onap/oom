#{{ if not .Values.disableAaiCassandra }}
{{- $root := . -}}
{{ range $i, $e := until (atoi (quote $root.Values.aaiCassandraReplicas) | default 3) }}
---
apiVersion: v1
kind: PersistentVolume
metadata:
  name: cassandra-data-{{ $i }}
  labels:
    type: local
    app: cassandra
  namespace: "{{ $root.Values.nsPrefix }}-aai"
spec:
  capacity:
    storage: 1Gi
  accessModes:
    - ReadWriteOnce
  hostPath:
    path: /dockerdata-nfs/{{ $root.Values.nsPrefix }}/aai/cassandra-data-{{ $i }}
  persistentVolumeReclaimPolicy: Retain
{{ end }}
#{{ end }}
