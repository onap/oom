{
  "comments": [
    {
      "key": {
        "uuid": "0db0afb4_6a65df98",
        "filename": "kubernetes/so/charts/so-catalog-db-adapter/resources/config/overrides/override.yaml",
        "patchSetId": 21
      },
      "lineNbr": 23,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-02-03T23:45:40Z",
      "side": 1,
      "message": "Why do you provide a cadi config as a piece of some other config not as a separate file like every one else does?\nAnd BTW all passwords that are within this template should be secrets...",
      "revId": "865bbf596038d915328376a51f843d5a3cdb644f",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d91529a8_3fdb8863",
        "filename": "kubernetes/so/charts/so-catalog-db-adapter/resources/config/overrides/override.yaml",
        "patchSetId": 21
      },
      "lineNbr": 23,
      "author": {
        "id": 4277
      },
      "writtenOn": "2020-02-04T17:13:18Z",
      "side": 1,
      "message": "SO application user this configuration file to read application related configuration data. We have employed a reusable helm template to insert CADI content into the configuration file. I don\u0027t see any downside to this approach. \nRegarding passwords, these passwords are already encryped using keyfile and they are embedded as part of the template. I don\u0027t see the need for using secrets here unless there is a compelling reason for doing so. Please clarify.",
      "parentUuid": "0db0afb4_6a65df98",
      "revId": "865bbf596038d915328376a51f843d5a3cdb644f",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0432b6e0_5bb5e07f",
        "filename": "kubernetes/so/charts/so-catalog-db-adapter/resources/config/overrides/override.yaml",
        "patchSetId": 21
      },
      "lineNbr": 23,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-02-04T17:34:48Z",
      "side": 1,
      "message": "If the password is encrypted then where is the key to decrypt it?;)",
      "parentUuid": "d91529a8_3fdb8863",
      "revId": "865bbf596038d915328376a51f843d5a3cdb644f",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9b0ecef2_b7c72a65",
        "filename": "kubernetes/so/charts/so-catalog-db-adapter/resources/config/overrides/override.yaml",
        "patchSetId": 21
      },
      "lineNbr": 23,
      "author": {
        "id": 4277
      },
      "writtenOn": "2020-02-04T18:11:01Z",
      "side": 1,
      "message": "AAF cadi core jar allows to generate a keyfile, create a digest of the password using the keyfile. We pass this digest along with keyfile to AAF and AAF, I believe, compares the digest to validate the password. I think AAF java library will also allow us to decrypt using the digest \u0026 keyfile. I have not tried it.",
      "parentUuid": "0432b6e0_5bb5e07f",
      "revId": "865bbf596038d915328376a51f843d5a3cdb644f",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3e35e029_05a8e29f",
        "filename": "kubernetes/so/charts/so-catalog-db-adapter/resources/config/overrides/override.yaml",
        "patchSetId": 21
      },
      "lineNbr": 23,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-02-04T18:14:48Z",
      "side": 1,
      "message": "where is your keyfile?",
      "parentUuid": "9b0ecef2_b7c72a65",
      "revId": "865bbf596038d915328376a51f843d5a3cdb644f",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d7f2fcf0_a314db17",
        "filename": "kubernetes/so/charts/so-catalog-db-adapter/resources/config/overrides/override.yaml",
        "patchSetId": 21
      },
      "lineNbr": 23,
      "author": {
        "id": 4277
      },
      "writtenOn": "2020-02-04T18:28:14Z",
      "side": 1,
      "message": "keyfile part of the client certs \u0026 is already included in the SO image(s). Here is the link to it https://gerrit.onap.org/r/gitweb?p\u003dso.git;a\u003dcommit;h\u003d837beb73d7aa6e8f7e4e932ac71e59663b868992\nunder packages/docker/src/main/docker/docker-files/certs/org.onap.so.keyfile\nI want you to know there are pros and cons in including these files in SO vs OOM repositories. We chose to go with having them in SO images. Hope this helps.",
      "parentUuid": "3e35e029_05a8e29f",
      "revId": "865bbf596038d915328376a51f843d5a3cdb644f",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "daa4b0c2_979b307d",
        "filename": "kubernetes/so/charts/so-catalog-db-adapter/resources/config/overrides/override.yaml",
        "patchSetId": 21
      },
      "lineNbr": 23,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-02-04T18:31:48Z",
      "side": 1,
      "message": "This means that your keyfile is effectively hardcoded in the image which is a very bad practice.\n\nPlease take into account that those images are publically available which means that the whole key encryption is insecure as you are leaking a secret key.\n\nNot to mention that you should use automated aaf certificate generation (see aaf-hello) to avoid storing certificate in any form",
      "parentUuid": "d7f2fcf0_a314db17",
      "revId": "865bbf596038d915328376a51f843d5a3cdb644f",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "48e68c64_8ed5dd29",
        "filename": "kubernetes/so/charts/so-catalog-db-adapter/resources/config/overrides/override.yaml",
        "patchSetId": 21
      },
      "lineNbr": 23,
      "author": {
        "id": 4277
      },
      "writtenOn": "2020-02-04T18:40:52Z",
      "side": 1,
      "message": "I think you are mistaken here. There are client certs and they can become part of the image.\nThe one you seem to refer to is AAF htts certs which will be generated with init container and will become part of OOM repository. I did not want to club AAF (authentication \u0026 authorization) with SSL into a single gerrit request. This pull is specifically related to authentication \u0026 authorization only. SSL will be dealt after approval of this. Hope this helps.",
      "parentUuid": "daa4b0c2_979b307d",
      "revId": "865bbf596038d915328376a51f843d5a3cdb644f",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2f88a4fb_aafe2113",
        "filename": "kubernetes/so/charts/so-catalog-db-adapter/resources/config/overrides/override.yaml",
        "patchSetId": 21
      },
      "lineNbr": 23,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-02-04T19:09:50Z",
      "side": 1,
      "message": "Hmmm...\nIsn\u0027t so/packages/docker/src/main/docker/docker-files/certs/org.onap.so.keyfile a key that allows you to decrypt this password: cadiTruststorePassword: enc:MFpuxKeYK6Eo6QXjDUjtOBbp0FthY7SB4mKSIJm_RWC ?",
      "parentUuid": "48e68c64_8ed5dd29",
      "revId": "865bbf596038d915328376a51f843d5a3cdb644f",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6a8436c8_2e445840",
        "filename": "kubernetes/so/charts/so-catalog-db-adapter/resources/config/overrides/override.yaml",
        "patchSetId": 21
      },
      "lineNbr": 23,
      "author": {
        "id": 4277
      },
      "writtenOn": "2020-02-04T19:55:21Z",
      "side": 1,
      "message": "You are correct. You can access its value directly from\nhttps://gerrit.onap.org/r/c/oom/+/96159/21/kubernetes/so/charts/so-secrets/templates/secrets.yaml#25 which will be changed (based on your review comment) to derive its value from values.yaml",
      "parentUuid": "2f88a4fb_aafe2113",
      "revId": "865bbf596038d915328376a51f843d5a3cdb644f",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "039a68c0_5c5e29d0",
        "filename": "kubernetes/so/charts/so-secrets/templates/secrets.yaml",
        "patchSetId": 21
      },
      "lineNbr": 25,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-02-03T23:45:40Z",
      "side": 1,
      "message": "why is this hardcoded?",
      "revId": "865bbf596038d915328376a51f843d5a3cdb644f",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "37454ab4_5d34a79b",
        "filename": "kubernetes/so/charts/so-secrets/templates/secrets.yaml",
        "patchSetId": 21
      },
      "lineNbr": 25,
      "author": {
        "id": 4277
      },
      "writtenOn": "2020-02-04T17:13:18Z",
      "side": 1,
      "message": "I\u0027ll address this.",
      "parentUuid": "039a68c0_5c5e29d0",
      "revId": "865bbf596038d915328376a51f843d5a3cdb644f",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "697e4613_8a0c9a9f",
        "filename": "kubernetes/so/charts/so-vnfm-adapter/templates/deployment.yaml",
        "patchSetId": 21
      },
      "lineNbr": 43,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-02-03T23:45:40Z",
      "side": 1,
      "message": "whitespace",
      "revId": "865bbf596038d915328376a51f843d5a3cdb644f",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6b3eb4d6_f7fca510",
        "filename": "kubernetes/so/charts/so-vnfm-adapter/templates/deployment.yaml",
        "patchSetId": 21
      },
      "lineNbr": 43,
      "author": {
        "id": 4277
      },
      "writtenOn": "2020-02-04T17:13:18Z",
      "side": 1,
      "message": "I\u0027ll address this.",
      "parentUuid": "697e4613_8a0c9a9f",
      "revId": "865bbf596038d915328376a51f843d5a3cdb644f",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "08533605_ac94bff3",
        "filename": "kubernetes/so/templates/_cadiValues.tpl",
        "patchSetId": 21
      },
      "lineNbr": 10,
      "author": {
        "id": 4965
      },
      "writtenOn": "2020-02-04T19:09:50Z",
      "side": 1,
      "message": "this probably should also come from values",
      "revId": "865bbf596038d915328376a51f843d5a3cdb644f",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8c4d5ca4_7844f6bb",
        "filename": "kubernetes/so/templates/_cadiValues.tpl",
        "patchSetId": 21
      },
      "lineNbr": 10,
      "author": {
        "id": 4277
      },
      "writtenOn": "2020-02-04T19:55:21Z",
      "side": 1,
      "message": "Agreed. I\u0027ll make the change.",
      "parentUuid": "08533605_ac94bff3",
      "revId": "865bbf596038d915328376a51f843d5a3cdb644f",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}