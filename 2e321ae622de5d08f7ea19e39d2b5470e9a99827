{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "5653666e_3193272b",
        "filename": "kubernetes/policy/components/policy-opa-pdp/templates/deployment.yaml",
        "patchSetId": 7
      },
      "lineNbr": 32,
      "author": {
        "id": 2679
      },
      "writtenOn": "2025-03-05T16:44:23Z",
      "side": 1,
      "message": "If you just use \"wait_for\" in the values.yaml, you can use:\n```\ninitContainers: {{ include \"common.readinessCheck.waitFor\" . | nindent 8 }}\n```",
      "revId": "2e321ae622de5d08f7ea19e39d2b5470e9a99827",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "138bb944_81c6c756",
        "filename": "kubernetes/policy/components/policy-opa-pdp/templates/deployment.yaml",
        "patchSetId": 7
      },
      "lineNbr": 32,
      "author": {
        "id": 8479
      },
      "writtenOn": "2025-03-06T06:56:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5653666e_3193272b",
      "revId": "2e321ae622de5d08f7ea19e39d2b5470e9a99827",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "49866db8_a5a732f5",
        "filename": "kubernetes/policy/components/policy-opa-pdp/values.yaml",
        "patchSetId": 7
      },
      "lineNbr": 136,
      "author": {
        "id": 2679
      },
      "writtenOn": "2025-03-05T16:44:23Z",
      "side": 1,
      "message": "Didn\u0027t you want to wait for the policy-pap to be up ?\nThen it should look like:\n```\nreadinessCheck:\n  wait_for:\n    services:\n      - policy-pap\n```\nIf you want to additionally need to wait for the job, you can add:\n```\n    jobs:\n      - \u0027{{ include \"common.release\" . }}-policy-pg-migrator-config\u0027\n\n```",
      "revId": "2e321ae622de5d08f7ea19e39d2b5470e9a99827",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "37a9a627_14182cc3",
        "filename": "kubernetes/policy/components/policy-opa-pdp/values.yaml",
        "patchSetId": 7
      },
      "lineNbr": 136,
      "author": {
        "id": 8479
      },
      "writtenOn": "2025-03-06T06:56:41Z",
      "side": 1,
      "message": "We checked the xacml it is only waiting for policy-pg-migrator-config, which is enough for opa also. So, waiting for pap is not required.",
      "parentUuid": "49866db8_a5a732f5",
      "revId": "2e321ae622de5d08f7ea19e39d2b5470e9a99827",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    }
  ]
}