{
  "comments": [
    {
      "key": {
        "uuid": "9a437d4f_4edbcf1b",
        "filename": "kubernetes/oneclick/createAll.bash",
        "patchSetId": 2
      },
      "lineNbr": 109,
      "author": {
        "id": 153
      },
      "writtenOn": "2017-08-29T12:33:13Z",
      "side": 1,
      "message": "There are unto 199 ports allocated for each deployment of onap what you are doing here will not cover the Part 1(described below) of nodePort allocation.\n\nBelow I listed nodeport allocation for 5 instance of ONAP.\n\n1st instance: 30200-30399\n\n2nd instance: 30400-30599\n\n3rd instance: 30600-30799\n\n4th instance: 30800-30999\n\n5th instance: 31000-31199\n\nPart 1. Here is sample nodePort for AAI, so as you can see this the following will match the regex with  the 3rd number being odd\n \nhence the following regex will be used\n\nsed -i-- \u0027s/nodePort: [0-9]\\{2\\}[13579]\\{1\\}/nodePort: \u0027\"$4\"\u0027/g\u0027 ../$2/all-services.yaml\n\n  21 spec:\n  22   ports:\n  23   - name: \"aai-service-port-8443\"\n  24     port: 8443\n  25     targetPort: 8443\n  26     nodePort: 30233\n  27   - name: \"aai-service-port-8080\"\n  28     port: 8080\n  29     targetPort: 8080\n  30     nodePort: 30232\n  31   type: NodePort\n  32   selector:\n  33     app: aai-service\n \n \nPart 2. so in the following case that regex will match the other regex with the 3rd number being even.\n\nhence the following regex will be used\n\nsed -i-- \u0027s/nodePort: [0-9]\\{2\\}[02468]\\{1\\}/nodePort: \u0027\"$3\"\u0027/g\u0027 ../$2/all-services.yaml\n \nspec:\n  42   ports:\n  43   - name: \"model-loader-service-port-8443\"\n  44     port: 8443\n  45     nodePort: 30229\n  46   - name: \"model-loader-service-port-8080\"\n  47     port: 8080\n  48     nodePort: 30210\n  49   type: NodePort",
      "range": {
        "startLine": 109,
        "startChar": 2,
        "endLine": 109,
        "endChar": 32
      },
      "revId": "94cdda08bbf1affddb2ff52a8be29ad5c1c82259",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}