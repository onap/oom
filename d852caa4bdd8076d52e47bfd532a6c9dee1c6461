{
  "comments": [
    {
      "key": {
        "uuid": "5a93c517_2b40eea3",
        "filename": "kubernetes/consul/charts/consul-server/templates/deployment.yaml",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 511
      },
      "writtenOn": "2018-04-26T01:13:16Z",
      "side": 1,
      "message": "Trying to join the consul-server Service is a problem, I think.  I\u0027ve tried this with replicas set to 1, and I still crash loop behavior for consul-server.  When I\u0027ve tried it with replicas set to 1 and the join command removed, the single consul-server instance comes up smoothly.\n\nEven with \u003e1 replicas, I think the join to the Service is a problem.  Each replica should directly contact another replica to establish the cluster.  Going through the Service does not give any control over where the join request will land.  It may not land on any working replica (as we see in the logs when the join attempts fail due to a connection timeout.)",
      "revId": "d852caa4bdd8076d52e47bfd532a6c9dee1c6461",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}